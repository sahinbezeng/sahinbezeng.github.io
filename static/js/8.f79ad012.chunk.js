(this["webpackJsonpdashboard-admin"]=this["webpackJsonpdashboard-admin"]||[]).push([[8],{2207:function(e,t,a){"use strict";var n=a(1),i=n.createContext();t.a=i},2209:function(e,t,a){"use strict";var n=a(1),i=n.createContext();t.a=i},2210:function(e,t,a){"use strict";a.d(t,"c",(function(){return n})),a.d(t,"a",(function(){return i})),a.d(t,"b",(function(){return r}));var n=/^((\\+[1-9]{1,4}[ \\-]*)|(\\([0-9]{2,3}\\)[ \\-]*)|([0-9]{2,4})[ \\-]*)*?[0-9]{3,4}?[ \\-]*[0-9]{3,4}?$/,i=/^[a-zA-Z0-9 ]*$/,r=/^[a-zA-Z ]*$/},2217:function(e,t,a){"use strict";a.d(t,"a",(function(){return n}));var n=function(e){return"/static/mock-images/products/product_".concat(e,".jpg")}},2218:function(e,t,a){"use strict";var n=a(4),i=a(7),r=a(2),c=a(1),o=(a(8),a(9)),s=a(183),l=a(59),d=a(11),b=a(2209),u=a(2207),j=a(13),p=a(6),m=a(131),O=a(155);function h(e){return Object(m.a)("MuiTableCell",e)}var v=Object(O.a)("MuiTableCell",["root","head","body","footer","sizeSmall","sizeMedium","paddingCheckbox","paddingNone","alignLeft","alignCenter","alignRight","alignJustify","stickyHeader"]),x=a(0),g=["align","className","component","padding","scope","size","sortDirection","variant"],f=Object(p.a)("td",{name:"MuiTableCell",slot:"Root",overridesResolver:function(e,t){var a=e.ownerState;return[t.root,t[a.variant],t["size".concat(Object(d.a)(a.size))],"normal"!==a.padding&&t["padding".concat(Object(d.a)(a.padding))],"inherit"!==a.align&&t["align".concat(Object(d.a)(a.align))],a.stickyHeader&&t.stickyHeader]}})((function(e){var t=e.theme,a=e.ownerState;return Object(r.a)({},t.typography.body2,{display:"table-cell",verticalAlign:"inherit",borderBottom:"1px solid\n    ".concat("light"===t.palette.mode?Object(l.e)(Object(l.a)(t.palette.divider,1),.88):Object(l.b)(Object(l.a)(t.palette.divider,1),.68)),textAlign:"left",padding:16},"head"===a.variant&&{color:t.palette.text.primary,lineHeight:t.typography.pxToRem(24),fontWeight:t.typography.fontWeightMedium},"body"===a.variant&&{color:t.palette.text.primary},"footer"===a.variant&&{color:t.palette.text.secondary,lineHeight:t.typography.pxToRem(21),fontSize:t.typography.pxToRem(12)},"small"===a.size&&Object(n.a)({padding:"6px 16px"},"&.".concat(v.paddingCheckbox),{width:24,padding:"0 12px 0 16px","& > *":{padding:0}}),"checkbox"===a.padding&&{width:48,padding:"0 0 0 4px"},"none"===a.padding&&{padding:0},"left"===a.align&&{textAlign:"left"},"center"===a.align&&{textAlign:"center"},"right"===a.align&&{textAlign:"right",flexDirection:"row-reverse"},"justify"===a.align&&{textAlign:"justify"},a.stickyHeader&&{position:"sticky",top:0,zIndex:2,backgroundColor:t.palette.background.default})})),y=c.forwardRef((function(e,t){var a,n=Object(j.a)({props:e,name:"MuiTableCell"}),l=n.align,p=void 0===l?"inherit":l,m=n.className,O=n.component,v=n.padding,y=n.scope,w=n.size,T=n.sortDirection,k=n.variant,R=Object(i.a)(n,g),S=c.useContext(b.a),z=c.useContext(u.a),C=z&&"head"===z.variant;a=O||(C?"th":"td");var M=y;!M&&C&&(M="col");var B=k||z&&z.variant,N=Object(r.a)({},n,{align:p,component:a,padding:v||(S&&S.padding?S.padding:"normal"),size:w||(S&&S.size?S.size:"medium"),sortDirection:T,stickyHeader:"head"===B&&S&&S.stickyHeader,variant:B}),A=function(e){var t=e.classes,a=e.variant,n=e.align,i=e.padding,r=e.size,c={root:["root",a,e.stickyHeader&&"stickyHeader","inherit"!==n&&"align".concat(Object(d.a)(n)),"normal"!==i&&"padding".concat(Object(d.a)(i)),"size".concat(Object(d.a)(r))]};return Object(s.a)(c,h,t)}(N),H=null;return T&&(H="asc"===T?"ascending":"descending"),Object(x.jsx)(f,Object(r.a)({as:a,ref:t,className:Object(o.a)(A.root,m),"aria-sort":H,scope:M,ownerState:N},R))}));t.a=y},2219:function(e,t,a){"use strict";var n=a(2),i=a(7),r=a(1),c=(a(8),a(9)),o=a(183),s=a(2207),l=a(13),d=a(6),b=a(131),u=a(155);function j(e){return Object(b.a)("MuiTableHead",e)}Object(u.a)("MuiTableHead",["root"]);var p=a(0),m=["className","component"],O=Object(d.a)("thead",{name:"MuiTableHead",slot:"Root",overridesResolver:function(e,t){return t.root}})({display:"table-header-group"}),h={variant:"head"},v="thead",x=r.forwardRef((function(e,t){var a=Object(l.a)({props:e,name:"MuiTableHead"}),r=a.className,d=a.component,b=void 0===d?v:d,u=Object(i.a)(a,m),x=Object(n.a)({},a,{component:b}),g=function(e){var t=e.classes;return Object(o.a)({root:["root"]},j,t)}(x);return Object(p.jsx)(s.a.Provider,{value:h,children:Object(p.jsx)(O,Object(n.a)({as:b,className:Object(c.a)(g.root,r),ref:t,role:b===v?null:"rowgroup",ownerState:x},u))})}));t.a=x},2220:function(e,t,a){"use strict";var n=a(4),i=a(2),r=a(7),c=a(1),o=(a(8),a(9)),s=a(183),l=a(59),d=a(2207),b=a(13),u=a(6),j=a(131),p=a(155);function m(e){return Object(j.a)("MuiTableRow",e)}var O=Object(p.a)("MuiTableRow",["root","selected","hover","head","footer"]),h=a(0),v=["className","component","hover","selected"],x=Object(u.a)("tr",{name:"MuiTableRow",slot:"Root",overridesResolver:function(e,t){var a=e.ownerState;return[t.root,a.head&&t.head,a.footer&&t.footer]}})((function(e){var t,a=e.theme;return t={color:"inherit",display:"table-row",verticalAlign:"middle",outline:0},Object(n.a)(t,"&.".concat(O.hover,":hover"),{backgroundColor:a.palette.action.hover}),Object(n.a)(t,"&.".concat(O.selected),{backgroundColor:Object(l.a)(a.palette.primary.main,a.palette.action.selectedOpacity),"&:hover":{backgroundColor:Object(l.a)(a.palette.primary.main,a.palette.action.selectedOpacity+a.palette.action.hoverOpacity)}}),t})),g=c.forwardRef((function(e,t){var a=Object(b.a)({props:e,name:"MuiTableRow"}),n=a.className,l=a.component,u=void 0===l?"tr":l,j=a.hover,p=void 0!==j&&j,O=a.selected,g=void 0!==O&&O,f=Object(r.a)(a,v),y=c.useContext(d.a),w=Object(i.a)({},a,{component:u,hover:p,selected:g,head:y&&"head"===y.variant,footer:y&&"footer"===y.variant}),T=function(e){var t=e.classes,a={root:["root",e.selected&&"selected",e.hover&&"hover",e.head&&"head",e.footer&&"footer"]};return Object(s.a)(a,m,t)}(w);return Object(h.jsx)(x,Object(i.a)({as:u,ref:t,className:Object(o.a)(T.root,n),role:"tr"===u?null:"row",ownerState:w},f))}));t.a=g},2221:function(e,t,a){"use strict";var n=a(2),i=a(7),r=a(1),c=(a(8),a(9)),o=a(183),s=a(13),l=a(6),d=a(131),b=a(155);function u(e){return Object(d.a)("MuiTableContainer",e)}Object(b.a)("MuiTableContainer",["root"]);var j=a(0),p=["className","component"],m=Object(l.a)("div",{name:"MuiTableContainer",slot:"Root",overridesResolver:function(e,t){return t.root}})({width:"100%",overflowX:"auto"}),O=r.forwardRef((function(e,t){var a=Object(s.a)({props:e,name:"MuiTableContainer"}),r=a.className,l=a.component,d=void 0===l?"div":l,b=Object(i.a)(a,p),O=Object(n.a)({},a,{component:d}),h=function(e){var t=e.classes;return Object(o.a)({root:["root"]},u,t)}(O);return Object(j.jsx)(m,Object(n.a)({ref:t,as:d,className:Object(c.a)(h.root,r),ownerState:O},b))}));t.a=O},2222:function(e,t,a){"use strict";var n=a(7),i=a(2),r=a(1),c=(a(8),a(9)),o=a(183),s=a(2209),l=a(13),d=a(6),b=a(131),u=a(155);function j(e){return Object(b.a)("MuiTable",e)}Object(u.a)("MuiTable",["root","stickyHeader"]);var p=a(0),m=["className","component","padding","size","stickyHeader"],O=Object(d.a)("table",{name:"MuiTable",slot:"Root",overridesResolver:function(e,t){var a=e.ownerState;return[t.root,a.stickyHeader&&t.stickyHeader]}})((function(e){var t=e.theme,a=e.ownerState;return Object(i.a)({display:"table",width:"100%",borderCollapse:"collapse",borderSpacing:0,"& caption":Object(i.a)({},t.typography.body2,{padding:t.spacing(2),color:t.palette.text.secondary,textAlign:"left",captionSide:"bottom"})},a.stickyHeader&&{borderCollapse:"separate"})})),h="table",v=r.forwardRef((function(e,t){var a=Object(l.a)({props:e,name:"MuiTable"}),d=a.className,b=a.component,u=void 0===b?h:b,v=a.padding,x=void 0===v?"normal":v,g=a.size,f=void 0===g?"medium":g,y=a.stickyHeader,w=void 0!==y&&y,T=Object(n.a)(a,m),k=Object(i.a)({},a,{component:u,padding:x,size:f,stickyHeader:w}),R=function(e){var t=e.classes,a={root:["root",e.stickyHeader&&"stickyHeader"]};return Object(o.a)(a,j,t)}(k),S=r.useMemo((function(){return{padding:x,size:f,stickyHeader:w}}),[x,f,w]);return Object(p.jsx)(s.a.Provider,{value:S,children:Object(p.jsx)(O,Object(i.a)({as:u,role:u===h?null:"table",ref:t,className:Object(c.a)(R.root,d),ownerState:k},T))})}));t.a=v},2223:function(e,t,a){"use strict";var n=a(2),i=a(7),r=a(1),c=(a(8),a(9)),o=a(183),s=a(2207),l=a(13),d=a(6),b=a(131),u=a(155);function j(e){return Object(b.a)("MuiTableBody",e)}Object(u.a)("MuiTableBody",["root"]);var p=a(0),m=["className","component"],O=Object(d.a)("tbody",{name:"MuiTableBody",slot:"Root",overridesResolver:function(e,t){return t.root}})({display:"table-row-group"}),h={variant:"body"},v="tbody",x=r.forwardRef((function(e,t){var a=Object(l.a)({props:e,name:"MuiTableBody"}),r=a.className,d=a.component,b=void 0===d?v:d,u=Object(i.a)(a,m),x=Object(n.a)({},a,{component:b}),g=function(e){var t=e.classes;return Object(o.a)({root:["root"]},j,t)}(x);return Object(p.jsx)(s.a.Provider,{value:h,children:Object(p.jsx)(O,Object(n.a)({className:Object(c.a)(g.root,r),as:b,ref:t,role:b===v?null:"rowgroup",ownerState:x},u))})}));t.a=x},2234:function(e,t,a){"use strict";var n=a(22),i=a(282),r=a.n(i),c=a(49),o=a(46),s=a(2171),l=a(184),d=a(2221),b=a(2222),u=a(2219),j=a(2220),p=a(2218),m=a(2223),O=a(188),h=a(0),v=[{id:"name",label:"Name",alignRight:!1},{id:"userId",label:"User Id",alignRight:!1},{id:"tickets",label:"# of tickets",alignRight:!1},{id:"brand",label:"Brand",alignRight:!1},{id:"bonusName",label:"Bonus Name",alignRight:!1},{id:"acceptanceState",label:"Acceptance State",alignRight:!1}],x=Object(n.a)(Array(3)).map((function(e,t){return{userId:"id ".concat(t+1),name:r.a.internet.userName(),tickets:r.a.datatype.number({min:1e3,max:1e4,precision:1}),brand:"Brand 1",bonusName:"100 shoes",acceptanceState:Object(c.sample)(["accepted bonus ","not accepted bonus","accepted task not completed","accepted task completed"])}}));t.a=function(){var e=Object(o.a)();return Object(h.jsxs)(s.a,{container:!0,spacing:2,sx:{mt:e.spacing(8)},children:[Object(h.jsx)(s.a,{item:!0,xs:12,children:Object(h.jsx)(l.a,{variant:"h5",children:"Winner List"})}),Object(h.jsx)(s.a,{item:!0,xs:12,children:Object(h.jsx)(O.a,{children:Object(h.jsx)(d.a,{sx:{minWidth:800},children:Object(h.jsxs)(b.a,{"aria-label":"reward table",children:[Object(h.jsx)(u.a,{children:Object(h.jsx)(j.a,{children:v.map((function(e){return Object(h.jsx)(p.a,{align:e.alignRight?"right":"left",children:e.label},e.id)}))})}),Object(h.jsx)(m.a,{children:x.map((function(e){return Object(h.jsxs)(j.a,{children:[Object(h.jsx)(p.a,{children:e.name}),Object(h.jsx)(p.a,{children:e.userId}),Object(h.jsx)(p.a,{children:e.tickets}),Object(h.jsx)(p.a,{children:e.brand}),Object(h.jsx)(p.a,{children:e.bonusName}),Object(h.jsx)(p.a,{children:e.acceptanceState})]},e.name)}))})]})})})})]})}},2312:function(e,t,a){"use strict";a.r(t),a.d(t,"default",(function(){return U}));var n=a(25),i=a(2201),r=a(20),c=a(60),o=a(187),s=a(281),l=a(3),d=a(37),b=a.n(d),u=a(66),j=a(62),p=a(1),m=a(95),O=a(146),h=a(94),v=a(2152),x=a(2297),g=a(2175),f=a(2171),y=a(397),w=a(2200),T=a(2213),k=a(2211),R=a(157),S=a(2197),z=a(184),C=a(2192),M=a(2198),B=a(2204),N=a(2182),A=a(398),H=a(113),D=a(2210),W=a(283),P=a(0),q=j.f().shape({images:j.a().min(1,"Minimum 1 bonus image required.").max(3,"Upload maximum 3 images."),thumbnail:j.d().required("Thumbnail is required"),name:j.g().matches(D.b,"Cannot include special characters.").required("Name is required"),giveawayType:j.g(),status:j.b(),description:j.g(),startDate:j.c().nullable(!0),value:j.e().required("This field is required."),availableQuantity:j.e(),brand:j.g().required("Brand is required")});function I(e){var t=e.isEdit,a=e.currentBonus,i=Object(n.g)(),c=Object(m.b)().enqueueSnackbar,o=Object(h.e)({enableReinitialize:!0,initialValues:{images:(null===a||void 0===a?void 0:a.images)||[],brand:(null===a||void 0===a?void 0:a.brand)||"Adidas",thumbnail:(null===a||void 0===a?void 0:a.thumbnail)||null,name:(null===a||void 0===a?void 0:a.name)||"",giveawayType:(null===a||void 0===a?void 0:a.giveawayType)||"Level2",status:(null===a||void 0===a?void 0:a.status)||!0,description:(null===a||void 0===a?void 0:a.description)||"",startDate:(null===a||void 0===a?void 0:a.startDate)?new Date(a.startDate):null,value:(null===a||void 0===a?void 0:a.value)||null,availableQuantity:(null===a||void 0===a?void 0:a.availableQuantity)||null},validationSchema:q,onSubmit:function(){var e=Object(u.a)(b.a.mark((function e(a,n){var o,s,l;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:o=n.setSubmitting,s=n.resetForm,l=n.setErrors,alert(JSON.stringify(a));try{s(),o(!1),c(t?"Update success":"Create success",{variant:"success"}),i(r.b.bonus.list)}catch(d){console.error(d),o(!1),l(d)}case 3:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}()}),s=o.errors,d=o.values,j=o.touched,D=o.handleSubmit,I=o.isSubmitting,L=o.setFieldValue,Q=o.getFieldProps;console.log("*** ",d,s);var U=Object(p.useCallback)((function(e){L("images",e.map((function(e){return Object.assign(e,{preview:URL.createObjectURL(e)})})))}),[L]),E=Object(p.useCallback)((function(e){var t=e[0];t&&L("thumbnail",Object(l.a)(Object(l.a)({},t),{},{preview:URL.createObjectURL(t)}))}),[L]);return Object(P.jsx)(h.c,{value:o,children:Object(P.jsx)(h.b,{noValidate:!0,autoComplete:"off",onSubmit:D,children:Object(P.jsxs)(f.a,{container:!0,spacing:3,children:[Object(P.jsx)(f.a,{item:!0,xs:12,md:6,children:Object(P.jsxs)(y.a,{direction:{xs:"column",sm:"row"},spacing:{xs:3,sm:2},children:[Object(P.jsxs)(w.a,{children:[Object(P.jsx)(T.a,{title:"Bonus Images"}),Object(P.jsx)(k.a,{children:Object(P.jsxs)(R.a,{sx:{mb:5},children:[Object(P.jsx)(W.b,{showPreview:!0,maxSize:3145728,accept:"image/*",files:d.images,onDrop:U,onRemove:function(e){var t=d.images.filter((function(t){return t!==e}));L("images",t)},onRemoveAll:function(){L("images",[])},error:Boolean(j.images&&s.images)}),Object(P.jsx)(S.a,{error:!0,sx:{px:2,textAlign:"center"},children:j.images&&s.images&&Object(P.jsx)(S.a,{error:!0,sx:{px:2},children:j.images&&s.images})})]})})]}),Object(P.jsxs)(w.a,{children:[Object(P.jsx)(T.a,{title:"Thumbnail"}),Object(P.jsx)(k.a,{children:Object(P.jsxs)(R.a,{sx:{mb:5},children:[Object(P.jsx)(W.a,{accept:"image/*",file:d.thumbnail,maxSize:3145728,onDrop:E,error:Boolean(j.thumbnail&&s.thumbnail),caption:Object(P.jsxs)(z.a,{variant:"caption",sx:{mt:2,mx:"auto",display:"block",textAlign:"center",color:"text.secondary"},children:["Allowed *.jpeg, *.jpg, *.png, *.gif",Object(P.jsx)("br",{})," max size of ",Object(H.a)(3145728)]})}),Object(P.jsx)(S.a,{error:!0,sx:{px:2,textAlign:"center"},children:j.thumbnail&&s.thumbnail})]})})]})]})}),Object(P.jsx)(f.a,{item:!0,xs:12,md:6,children:Object(P.jsx)(w.a,{children:Object(P.jsx)(k.a,{children:Object(P.jsxs)(y.a,{spacing:3,children:[Object(P.jsxs)(y.a,{direction:{xs:"column",sm:"row"},spacing:{xs:3,sm:2},children:[Object(P.jsx)(C.a,Object(l.a)(Object(l.a)({fullWidth:!0,size:"small",label:"Name"},Q("name")),{},{error:Boolean(j.name&&s.name),helperText:j.name&&s.name})),Object(P.jsx)(C.a,Object(l.a)(Object(l.a)({select:!0,fullWidth:!0,size:"small",label:"Giveaway Type"},Q("giveawayType")),{},{SelectProps:{native:!0},error:Boolean(j.giveawayType&&s.giveawayType),helperText:j.giveawayType&&s.giveawayType,children:["Level2","Level3","Brand Prize Set","Task Specific"].map((function(e){return Object(P.jsx)("option",{value:e,children:e},e)}))}))]}),Object(P.jsx)(y.a,{children:Object(P.jsx)(C.a,Object(l.a)(Object(l.a)({select:!0,fullWidth:!0,size:"small",label:"Select Brand",placeholder:"Brand"},Q("brand")),{},{SelectProps:{native:!0},error:Boolean(j.brand&&s.brand),helperText:j.brand&&s.brand,children:["Adidas","Nike"].map((function(e,t){return Object(P.jsx)("option",{value:e,children:e},e+t)}))}))}),Object(P.jsxs)(y.a,{direction:{xs:"column",sm:"row"},spacing:{xs:3,sm:2},children:[Object(P.jsx)(y.a,{sx:{width:"100%"},children:Object(P.jsx)(C.a,Object(l.a)(Object(l.a)({fullWidth:!0,multiline:!0,rows:3,size:"small",label:"Description"},Q("description")),{},{error:Boolean(j.description&&s.description),helperText:j.description&&s.description}))}),Object(P.jsxs)(y.a,{sx:{width:"100%"},children:[Object(P.jsx)(x.a,{label:"Start date",value:d.startDate,inputFormat:"dd/MM/yyyy hh:mm a",onChange:function(e){return Object(O.a)(e)?L("startDate",e):null},renderInput:function(e){return Object(P.jsx)(C.a,Object(l.a)(Object(l.a)({},e),{},{size:"small",fullWidth:!0,error:Boolean(j.startDate&&s.startDate),helperText:j.startDate&&s.startDate,sx:{mb:3}}))}}),Object(P.jsx)(M.a,{labelPlacement:"start",control:Object(P.jsx)(B.a,Object(l.a)(Object(l.a)({},Q("status")),{},{checked:d.status})),label:Object(P.jsx)(z.a,{variant:"subtitle2",children:"Active"}),sx:{mx:0,width:1}})]})]}),Object(P.jsxs)(y.a,{direction:{xs:"column",sm:"row"},spacing:{xs:3,sm:2},children:[Object(P.jsx)(C.a,Object(l.a)(Object(l.a)({fullWidth:!0,type:"number",size:"small",label:"Value of bonus",InputProps:{endAdornment:Object(P.jsx)(N.a,{position:"end",children:"$"})}},Q("value")),{},{error:Boolean(j.value&&s.value),helperText:j.value&&s.value})),Object(P.jsx)(C.a,Object(l.a)(Object(l.a)({fullWidth:!0,type:"number",size:"small",label:"Available Quantity"},Q("availableQuantity")),{},{error:Boolean(j.availableQuantity&&s.availableQuantity),helperText:j.availableQuantity&&s.availableQuantity}))]}),t&&Object(P.jsxs)(y.a,{direction:{xs:"column",sm:"row"},spacing:{xs:3,sm:2},alignItems:"center",children:[Object(P.jsx)(z.a,{children:"Associated Task: "}),Object(P.jsx)(A.a,{href:r.b.campaign.detail,variant:"h6",children:"Task 1"}),Object(P.jsx)(M.a,{labelPlacement:"start",control:Object(P.jsx)(B.a,{}),label:Object(P.jsx)(z.a,{variant:"subtitle2",children:"Task On/Off"})})]}),Object(P.jsx)(R.a,{sx:{mt:3,display:"flex",justifyContent:"flex-end"},children:Object(P.jsx)(g.a,{type:"submit",variant:"contained",loading:I,endIcon:Object(P.jsx)(v.a,{}),children:"Save"})})]})})})})]})})})}var L=a(2234),Q=a(2217);function U(){var e=Object(c.a)().themeStretch,t=Object(n.f)().pathname,a=Object(n.h)().name,l=t.includes("edit"),d=l?{images:[Object(Q.a)(1),Object(Q.a)(1)],thumbnail:Object(Q.a)(1),name:"100 shoes",description:"100 shoes for all.",giveawayType:"Level3",status:!0,startDate:new Date,value:1500,availableQuantity:100}:{};return Object(P.jsx)(o.a,{title:"Bonus: Create a new bonus",children:Object(P.jsxs)(i.a,{maxWidth:!e&&"lg",children:[Object(P.jsx)(s.a,{heading:l?"Edit Bonus":"Add Bonus",links:[{name:"Bonus",href:r.b.root},{name:l?a:"Add Bonus"}]}),Object(P.jsx)(I,{isEdit:l,currentBonus:d}),l&&Object(P.jsx)(L.a,{})]})})}}}]);
//# sourceMappingURL=8.f79ad012.chunk.js.map