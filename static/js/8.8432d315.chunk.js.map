{"version":3,"sources":["components/HeaderBreadcrumbs.js","utils/constants/regexs.js","components/survey/SurveyNewForm.js","pages/SurveyCreate.js"],"names":["HeaderBreadcrumbs","links","action","heading","moreLink","sx","other","mb","spacing","direction","alignItems","flexGrow","variant","gutterBottom","flexShrink","isString","href","target","map","noWrap","display","phoneRegExp","addressRegExp","nameRegExp","initialQuestion","title","options","getInitialValues","currentSurvey","range","_survey","description","percentageColor","starPerUser","undefined","startDate","end","questions","merge","SurveyNewForm","isEdit","navigate","useNavigate","enqueueSnackbar","useTheme","useSnackbar","NewSurveySchema","Yup","shape","matches","required","endDate","when","schema","min","of","formik","useFormik","enableReinitialize","initialValues","validationSchema","onSubmit","values","a","setSubmitting","resetForm","setErrors","alert","JSON","stringify","PATH_DASHBOARD","survey","list","error","console","errors","touched","handleSubmit","isSubmitting","setFieldValue","getFieldProps","log","value","noValidate","autoComplete","Grid","container","item","xs","md","Card","p","Stack","sm","TextField","fullWidth","size","label","Boolean","helperText","multiline","rows","type","DateTimePicker","Date","inputFormat","onChange","date","renderInput","params","name","render","questionArrayHelpers","CardHeader","Button","startIcon","icon","plusFill","onClick","push","CardContent","question","questionIndex","titleTypographyProps","getIn","optArrayHelpers","option","optionIndex","optionFieldName","IconButton","color","remove","Delete","Add","Box","mt","justifyContent","mr","LoadingButton","loading","SurveyCreate","themeStretch","useSettings","pathname","useLocation","useParams","includes","Page","Container","maxWidth"],"mappings":"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","file":"static/js/8.8432d315.chunk.js","sourcesContent":["import { isString } from 'lodash';\nimport PropTypes from 'prop-types';\n// material\nimport { Box, Typography, Link, Stack } from '@material-ui/core';\n//\nimport { MBreadcrumbs } from './@material-extend';\n\n// ----------------------------------------------------------------------\n\nHeaderBreadcrumbs.propTypes = {\n  links: PropTypes.array,\n  action: PropTypes.node,\n  heading: PropTypes.string.isRequired,\n  moreLink: PropTypes.oneOfType([PropTypes.string, PropTypes.array]),\n  sx: PropTypes.object,\n};\n\nexport default function HeaderBreadcrumbs({ links, action, heading, moreLink = '' || [], sx, ...other }) {\n  return (\n    <Stack sx={sx} mb={5} spacing={2}>\n      <Stack direction=\"row\" alignItems=\"center\">\n        <Box sx={{ flexGrow: 1 }}>\n          <Typography variant=\"h4\" gutterBottom>\n            {heading}\n          </Typography>\n          <MBreadcrumbs links={links} {...other} />\n        </Box>\n\n        {action && <Box sx={{ flexShrink: 0 }}>{action}</Box>}\n      </Stack>\n\n      {isString(moreLink) ? (\n        <Link href={moreLink} target=\"_blank\" variant=\"body2\">\n          {moreLink}\n        </Link>\n      ) : (\n        moreLink.map((href) => (\n          <Link noWrap key={href} href={href} variant=\"body2\" target=\"_blank\" sx={{ display: 'flex' }}>\n            {href}\n          </Link>\n        ))\n      )}\n    </Stack>\n  );\n}\n","export const phoneRegExp =\n  /^((\\\\+[1-9]{1,4}[ \\\\-]*)|(\\\\([0-9]{2,3}\\\\)[ \\\\-]*)|([0-9]{2,4})[ \\\\-]*)*?[0-9]{3,4}?[ \\\\-]*[0-9]{3,4}?$/;\nexport const addressRegExp = /^[a-zA-Z0-9 ]*$/;\nexport const nameRegExp = /^[a-zA-Z ]*$/;\n","import * as Yup from 'yup';\nimport PropTypes from 'prop-types';\nimport { useSnackbar } from 'notistack5';\nimport { useNavigate } from 'react-router-dom';\nimport { FieldArray, Form, FormikProvider, getIn, useFormik } from 'formik';\nimport { merge } from 'lodash';\n\nimport { Icon } from '@iconify/react';\nimport plusFill from '@iconify/icons-eva/plus-fill';\nimport { useTheme } from '@material-ui/core/styles';\nimport { Add as AddIcon, Delete as DeleteIcon, Save as SaveIcon } from '@material-ui/icons';\nimport { LoadingButton, DateTimePicker } from '@material-ui/lab';\nimport {\n  Box,\n  Button,\n  Card,\n  CardContent,\n  CardHeader,\n  Grid,\n  IconButton,\n  Stack,\n  TextField,\n  Typography,\n} from '@material-ui/core';\n// routes\nimport { PATH_DASHBOARD } from '../../routes/paths';\nimport { nameRegExp } from '../../utils/constants/regexs';\n\n// ----------------------------------------------------------------------\n\nconst initialQuestion = {\n  title: '',\n  options: [''],\n};\n\nconst getInitialValues = (currentSurvey, range) => {\n  const _survey = {\n    title: '',\n    description: '',\n    percentageColor: '',\n    starPerUser: undefined,\n    startDate: undefined,\n    end: undefined,\n    questions: [initialQuestion],\n  };\n\n  if (currentSurvey) {\n    return merge({}, _survey, currentSurvey);\n  }\n\n  return _survey;\n};\n\nconst QuestionBox = () => {\n  console.log('QuestionBox: ');\n  return <Box>qq</Box>;\n};\n\nSurveyNewForm.propTypes = {\n  isEdit: PropTypes.bool,\n  currentSurvey: PropTypes.object,\n};\n\nexport default function SurveyNewForm({ isEdit, currentSurvey }) {\n  const navigate = useNavigate();\n  const theme = useTheme();\n  const { enqueueSnackbar } = useSnackbar();\n\n  const NewSurveySchema = Yup.object().shape({\n    title: Yup.string().matches(nameRegExp, 'Cannot include special characters.').required('Title is required'),\n    description: Yup.string(),\n    percentageColor: Yup.string(),\n    starPerUser: Yup.number().required('This field is required.'),\n    startDate: Yup.date(),\n    endDate: Yup.date().when(\n      'startDate',\n      (startDate, schema) => startDate && schema.min(startDate, 'End date must be later than start date')\n    ),\n    questions: Yup.array().of(Yup.object().shape({ title: Yup.string(), options: Yup.array().of(Yup.string()) })),\n  });\n\n  const formik = useFormik({\n    enableReinitialize: true,\n    initialValues: getInitialValues(currentSurvey),\n    validationSchema: NewSurveySchema,\n    onSubmit: async (values, { setSubmitting, resetForm, setErrors }) => {\n      alert(JSON.stringify(values));\n      try {\n        resetForm();\n        setSubmitting(false);\n        enqueueSnackbar(!isEdit ? 'Create success' : 'Update success', { variant: 'success' });\n        navigate(PATH_DASHBOARD.survey.list);\n      } catch (error) {\n        console.error(error);\n        setSubmitting(false);\n        setErrors(error);\n      }\n    },\n  });\n\n  const { errors, values, touched, handleSubmit, isSubmitting, setFieldValue, getFieldProps } = formik;\n\n  console.log('*** ', values, errors);\n\n  return (\n    <FormikProvider value={formik}>\n      <Form noValidate autoComplete=\"off\" onSubmit={handleSubmit}>\n        <Grid container spacing={3}>\n          <Grid item xs={12} md={8}>\n            <Card sx={{ p: 3 }}>\n              <Stack spacing={3}>\n                <Stack direction={{ xs: 'column', sm: 'row' }} spacing={{ xs: 3, sm: 2 }}>\n                  <TextField\n                    fullWidth\n                    size=\"small\"\n                    label=\"Title\"\n                    {...getFieldProps('title')}\n                    error={Boolean(touched.title && errors.title)}\n                    helperText={touched.title && errors.title}\n                  />\n                  {/* <TextField\n                    fullWidth\n                    size=\"small\"\n                    label=\"Contact Person Name\"\n                    {...getFieldProps('contactPersonName')}\n                    error={Boolean(touched.contactPersonName && errors.contactPersonName)}\n                    helperText={touched.contactPersonName && errors.contactPersonName}\n                  /> */}\n                </Stack>\n\n                <Stack direction={{ xs: 'column', sm: 'row' }} spacing={{ xs: 3, sm: 2 }}>\n                  <TextField\n                    fullWidth\n                    multiline\n                    rows={3}\n                    size=\"small\"\n                    label=\"Description\"\n                    {...getFieldProps('description')}\n                    error={Boolean(touched.description && errors.description)}\n                    helperText={touched.description && errors.description}\n                  />\n                </Stack>\n\n                <Stack direction={{ xs: 'column', sm: 'row' }} spacing={{ xs: 3, sm: 2 }}>\n                  <TextField\n                    fullWidth\n                    size=\"small\"\n                    label=\"Percentage Color\"\n                    {...getFieldProps('percentageColor')}\n                    error={Boolean(touched.percentageColor && errors.percentageColor)}\n                    helperText={touched.percentageColor && errors.percentageColor}\n                  />\n                  <TextField\n                    fullWidth\n                    size=\"small\"\n                    label=\"Star Per User\"\n                    type=\"number\"\n                    {...getFieldProps('starPerUser')}\n                    error={Boolean(touched.starPerUser && errors.starPerUser)}\n                    helperText={touched.starPerUser && errors.starPerUser}\n                  />\n                </Stack>\n\n                <Stack direction={{ xs: 'column', sm: 'row' }} spacing={{ xs: 3, sm: 2 }}>\n                  <DateTimePicker\n                    label=\"Start date\"\n                    value={values.startDate ? values.startDate : new Date(currentSurvey?.startDate)}\n                    inputFormat=\"dd/MM/yyyy hh:mm a\"\n                    onChange={(date) => setFieldValue('startDate', date)}\n                    renderInput={(params) => (\n                      <TextField\n                        {...params}\n                        fullWidth\n                        error={Boolean(touched.startDate && errors.startDate)}\n                        helperText={touched.startDate && errors.startDate}\n                        sx={{ mb: 3 }}\n                      />\n                    )}\n                  />\n                  <DateTimePicker\n                    label=\"End date\"\n                    value={values.endDate ? values.endDate : new Date(currentSurvey?.endDate)}\n                    inputFormat=\"dd/MM/yyyy hh:mm a\"\n                    onChange={(date) => setFieldValue('endDate', date)}\n                    renderInput={(params) => (\n                      <TextField\n                        {...params}\n                        fullWidth\n                        error={Boolean(touched.endDate && errors.endDate)}\n                        helperText={touched.endDate && errors.endDate}\n                        sx={{ mb: 3 }}\n                      />\n                    )}\n                  />\n                </Stack>\n\n                <FieldArray\n                  name=\"questions\"\n                  render={(questionArrayHelpers) => (\n                    <Card>\n                      <CardHeader\n                        title=\"Questions\"\n                        action={\n                          <Button\n                            variant=\"contained\"\n                            startIcon={<Icon icon={plusFill} />}\n                            onClick={() => questionArrayHelpers.push(initialQuestion)}\n                          >\n                            Add New\n                          </Button>\n                        }\n                      />\n                      <CardContent>\n                        <Stack spacing={2}>\n                          {values.questions.map((question, questionIndex) => {\n                            console.log('question index: ', questionIndex);\n                            return (\n                              <Card key={questionIndex}>\n                                <CardHeader\n                                  title={`Question ${questionIndex + 1}`}\n                                  titleTypographyProps={{ variant: 'h8' }}\n                                />\n                                <CardContent>\n                                  <Stack spacing={1}>\n                                    <TextField\n                                      fullWidth\n                                      size=\"small\"\n                                      label=\"Title\"\n                                      {...getFieldProps(`questions.${questionIndex}.title`)}\n                                      error={Boolean(\n                                        getIn(touched, `questions.${questionIndex}.title`) &&\n                                          getIn(errors, `questions.${questionIndex}.title`)\n                                      )}\n                                      helperText={\n                                        getIn(touched, `questions.${questionIndex}.title`) &&\n                                        getIn(errors, `questions.${questionIndex}.title`)\n                                      }\n                                    />\n                                    <FieldArray\n                                      name={`questions.${questionIndex}.options`}\n                                      render={(optArrayHelpers) => (\n                                        <>\n                                          {values.questions[questionIndex].options.map((option, optionIndex) => {\n                                            const optionFieldName = `questions.${questionIndex}.options.${optionIndex}`;\n                                            return (\n                                              <Stack key={optionIndex} direction=\"row\" spacing={1}>\n                                                <TextField\n                                                  fullWidth\n                                                  size=\"small\"\n                                                  label={`Option ${optionIndex + 1}`}\n                                                  {...getFieldProps(optionFieldName)}\n                                                  error={Boolean(\n                                                    getIn(touched, optionFieldName) && getIn(errors, optionFieldName)\n                                                  )}\n                                                  helperText={\n                                                    getIn(touched, optionFieldName) && getIn(errors, optionFieldName)\n                                                  }\n                                                />\n                                                <IconButton\n                                                  color=\"error\"\n                                                  aria-label=\"delete\"\n                                                  onClick={() => optArrayHelpers.remove(optionIndex)}\n                                                >\n                                                  <DeleteIcon />\n                                                </IconButton>\n                                              </Stack>\n                                            );\n                                          })}\n                                          <IconButton\n                                            color=\"primary\"\n                                            aria-label=\"plus\"\n                                            onClick={() => optArrayHelpers.push('')}\n                                          >\n                                            <AddIcon />\n                                          </IconButton>\n                                        </>\n                                      )}\n                                    />\n                                  </Stack>\n                                </CardContent>\n                              </Card>\n                            );\n                          })}\n                        </Stack>\n                      </CardContent>\n                    </Card>\n                  )}\n                />\n\n                <Box sx={{ mt: 3, display: 'flex', justifyContent: 'flex-end' }}>\n                  <Button sx={{ mr: 2 }} variant=\"outlined\" onClick={() => console.log('Draft Clicked')}>\n                    Draft\n                  </Button>\n                  <LoadingButton type=\"submit\" variant=\"contained\" loading={isSubmitting}>\n                    Publish\n                  </LoadingButton>\n                </Box>\n              </Stack>\n            </Card>\n          </Grid>\n\n          <Grid item xs={12} md={4}>\n            <Card sx={{ p: 3 }}>Later Phase</Card>\n          </Grid>\n        </Grid>\n      </Form>\n    </FormikProvider>\n  );\n}\n","import { useParams, useLocation } from 'react-router-dom';\n// material\nimport { Container } from '@material-ui/core';\n// routes\nimport { PATH_DASHBOARD } from '../routes/paths';\n// hooks\nimport useSettings from '../hooks/useSettings';\n// components\nimport Page from '../components/Page';\nimport HeaderBreadcrumbs from '../components/HeaderBreadcrumbs';\nimport SurveyNewForm from '../components/survey/SurveyNewForm';\n\n// ----------------------------------------------------------------------\n\nexport default function SurveyCreate() {\n  const { themeStretch } = useSettings();\n  const { pathname } = useLocation();\n  const { title } = useParams();\n  const isEdit = pathname.includes('edit');\n\n  const currentSurvey = {};\n\n  return (\n    <Page title=\"Survey: Create a new survey\">\n      <Container maxWidth={themeStretch ? false : 'lg'}>\n        <HeaderBreadcrumbs\n          heading={!isEdit ? 'Create Survey' : 'Edit Survey'}\n          links={[{ name: 'Survey', href: PATH_DASHBOARD.survey.list }, { name: !isEdit ? 'Create Survey' : title }]}\n        />\n        <SurveyNewForm isEdit={isEdit} currentSurvey={currentSurvey} />\n      </Container>\n    </Page>\n  );\n}\n"],"sourceRoot":""}