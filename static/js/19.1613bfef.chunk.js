(this["webpackJsonpdashboard-admin"]=this["webpackJsonpdashboard-admin"]||[]).push([[19],{2208:function(e,t){t.__esModule=!0,t.default={body:'<path fill="currentColor" d="M19 11h-6V5a1 1 0 0 0-2 0v6H5a1 1 0 0 0 0 2h6v6a1 1 0 0 0 2 0v-6h6a1 1 0 0 0 0-2z"/>',width:24,height:24}},2211:function(e,t,c){"use strict";var a=c(2),r=c(7),n=c(1),o=(c(8),c(9)),i=c(183),s=c(6),l=c(13),j=c(131),d=c(155);function b(e){return Object(j.a)("MuiCardContent",e)}Object(d.a)("MuiCardContent",["root"]);var u=c(0),O=["className","component"],m=Object(s.a)("div",{name:"MuiCardContent",slot:"Root",overridesResolver:function(e,t){return t.root}})((function(){return{padding:16,"&:last-child":{paddingBottom:24}}})),h=n.forwardRef((function(e,t){var c=Object(l.a)({props:e,name:"MuiCardContent"}),n=c.className,s=c.component,j=void 0===s?"div":s,d=Object(r.a)(c,O),h=Object(a.a)({},c,{component:j}),p=function(e){var t=e.classes;return Object(i.a)({root:["root"]},b,t)}(h);return Object(u.jsx)(m,Object(a.a)({as:j,className:Object(o.a)(p.root,n),ownerState:h,ref:t},d))}));t.a=h},2213:function(e,t,c){"use strict";var a=c(4),r=c(7),n=c(2),o=c(1),i=(c(8),c(9)),s=c(183),l=c(184),j=c(13),d=c(6),b=c(131),u=c(155);function O(e){return Object(b.a)("MuiCardHeader",e)}var m=Object(u.a)("MuiCardHeader",["root","avatar","action","content","title","subheader"]),h=c(0),p=["action","avatar","className","component","disableTypography","subheader","subheaderTypographyProps","title","titleTypographyProps"],x=Object(d.a)("div",{name:"MuiCardHeader",slot:"Root",overridesResolver:function(e,t){var c;return Object(n.a)((c={},Object(a.a)(c,"& .".concat(m.title),t.title),Object(a.a)(c,"& .".concat(m.subheader),t.subheader),c),t.root)}})({display:"flex",alignItems:"center",padding:16}),f=Object(d.a)("div",{name:"MuiCardHeader",slot:"Avatar",overridesResolver:function(e,t){return t.avatar}})({display:"flex",flex:"0 0 auto",marginRight:16}),v=Object(d.a)("div",{name:"MuiCardHeader",slot:"Action",overridesResolver:function(e,t){return t.action}})({flex:"0 0 auto",alignSelf:"flex-start",marginTop:-4,marginRight:-8,marginBottom:-4}),k=Object(d.a)("div",{name:"MuiCardHeader",slot:"Content",overridesResolver:function(e,t){return t.content}})({flex:"1 1 auto"}),y=o.forwardRef((function(e,t){var c=Object(j.a)({props:e,name:"MuiCardHeader"}),a=c.action,o=c.avatar,d=c.className,b=c.component,u=void 0===b?"div":b,m=c.disableTypography,y=void 0!==m&&m,w=c.subheader,g=c.subheaderTypographyProps,R=c.title,C=c.titleTypographyProps,N=Object(r.a)(c,p),T=Object(n.a)({},c,{component:u,disableTypography:y}),S=function(e){var t=e.classes;return Object(s.a)({root:["root"],avatar:["avatar"],action:["action"],content:["content"],title:["title"],subheader:["subheader"]},O,t)}(T),z=R;null==z||z.type===l.a||y||(z=Object(h.jsx)(l.a,Object(n.a)({variant:o?"body2":"h5",className:S.title,component:"span",display:"block"},C,{children:z})));var B=w;return null==B||B.type===l.a||y||(B=Object(h.jsx)(l.a,Object(n.a)({variant:o?"body2":"body1",className:S.subheader,color:"text.secondary",component:"span",display:"block"},g,{children:B}))),Object(h.jsxs)(x,Object(n.a)({className:Object(i.a)(S.root,d),as:u,ref:t,ownerState:T},N,{children:[o&&Object(h.jsx)(f,{className:S.avatar,ownerState:T,children:o}),Object(h.jsxs)(k,{className:S.content,ownerState:T,children:[z,B]}),a&&Object(h.jsx)(v,{className:S.action,ownerState:T,children:a})]}))}));t.a=y},2225:function(e,t,c){"use strict";var a=c(28),r=c(0);t.a=Object(a.a)(Object(r.jsx)("path",{d:"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6v12zM19 4h-3.5l-1-1h-5l-1 1H5v2h14V4z"}),"Delete")},2313:function(e,t,c){"use strict";c.r(t),c.d(t,"default",(function(){return E}));var a=c(25),r=c(2201),n=c(20),o=c(60),i=c(187),s=c(281),l=c(37),j=c.n(l),d=c(66),b=c(3),u=(c(1),c(62)),O=c(95),m=c(94),h=c(21),p=c(2208),x=c.n(p),f=c(2225),v=c(2152),k=c(2175),y=c(2200),w=c(2213),g=c(2183),R=c(2211),C=c(397),N=c(2171),T=c(184),S=c(2192),z=c(2180),B=c(2173),M=c(157),F=c(0),H={from:0,to:0,tickets:0},P={socialNetworkCount:0,tickets:0},A=function(e){var t=e.formik,c=t.errors,a=t.values,r=t.touched,n=t.getFieldProps;return Object(F.jsx)(m.a,{name:"historicalDataRules",render:function(e){return Object(F.jsxs)(y.a,{children:[Object(F.jsx)(w.a,{title:"Historical Data Rules",titleTypographyProps:{variant:"subtitle1"},action:Object(F.jsx)(g.a,{size:"small",variant:"contained",startIcon:Object(F.jsx)(h.a,{icon:x.a}),onClick:function(){return e.push(Object(b.a)({},H))},children:"Add Rule"})}),Object(F.jsx)(R.a,{children:Object(F.jsx)(C.a,{spacing:2,children:a.historicalDataRules.map((function(t,a){var o="historicalDataRules.".concat(a);return Object(F.jsxs)(N.a,{container:!0,justifyContent:"space-between",children:[Object(F.jsx)(N.a,{item:!0,sm:12,md:6,children:Object(F.jsxs)(N.a,{container:!0,spacing:1,children:[Object(F.jsx)(N.a,{item:!0,sm:12,md:2,children:Object(F.jsx)(T.a,{children:"did not win"})}),Object(F.jsx)(N.a,{item:!0,sm:12,md:4,children:Object(F.jsxs)(C.a,{direction:"row",spacing:1,children:[Object(F.jsx)(S.a,Object(b.a)(Object(b.a)({type:"number",fullWidth:!0,variant:"standard",size:"small"},n("".concat(o,".from"))),{},{error:Boolean(Object(m.d)(r,"".concat(o,".from"))&&Object(m.d)(c,"".concat(o,".from"))),helperText:Object(m.d)(r,"".concat(o,".from"))&&Object(m.d)(c,"".concat(o,".from"))})),Object(F.jsx)(T.a,{children:"to"})]})}),Object(F.jsx)(N.a,{item:!0,sm:12,md:4,children:Object(F.jsxs)(C.a,{direction:"row",spacing:1,children:[Object(F.jsx)(S.a,Object(b.a)(Object(b.a)({type:"number",fullWidth:!0,variant:"standard",size:"small"},n("".concat(o,".to"))),{},{error:Boolean(Object(m.d)(r,"".concat(o,".to"))&&Object(m.d)(c,"".concat(o,".to"))),helperText:Object(m.d)(r,"".concat(o,".to"))&&Object(m.d)(c,"".concat(o,".to"))})),Object(F.jsx)(T.a,{children:"times"})]})})]})}),Object(F.jsx)(N.a,{item:!0,sm:12,md:4,children:Object(F.jsxs)(C.a,{direction:"row",children:[Object(F.jsx)(S.a,Object(b.a)(Object(b.a)({type:"number",fullWidth:!0,variant:"standard",size:"small"},n("".concat(o,".tickets"))),{},{error:Boolean(Object(m.d)(r,"".concat(o,".tickets"))&&Object(m.d)(c,"".concat(o,".tickets"))),helperText:Object(m.d)(r,"".concat(o,".tickets"))&&Object(m.d)(c,"".concat(o,".tickets"))})),Object(F.jsx)(T.a,{children:"tickets"}),Object(F.jsx)(z.a,{color:"error","aria-label":"delete",onClick:function(){return e.remove(a)},children:Object(F.jsx)(f.a,{})})]})})]},a)}))})})]})}})},W=function(e){var t=e.formik,c=t.errors,a=t.values,r=t.touched,n=t.getFieldProps;return Object(F.jsx)(m.a,{name:"appLevelRules",render:function(e){return Object(F.jsxs)(y.a,{children:[Object(F.jsx)(w.a,{title:"App Level Rules",titleTypographyProps:{variant:"subtitle1"},action:Object(F.jsx)(g.a,{size:"small",variant:"contained",startIcon:Object(F.jsx)(h.a,{icon:x.a}),onClick:function(){return e.push(Object(b.a)({},H))},children:"Add Rule"})}),Object(F.jsx)(R.a,{children:Object(F.jsx)(C.a,{spacing:2,children:a.appLevelRules.map((function(t,a){var o="appLevelRules.".concat(a);return Object(F.jsxs)(N.a,{container:!0,justifyContent:"space-between",children:[Object(F.jsx)(N.a,{item:!0,sm:12,md:6,children:Object(F.jsxs)(N.a,{container:!0,spacing:1,children:[Object(F.jsx)(N.a,{item:!0,sm:12,md:2,children:Object(F.jsx)(T.a,{children:"App Level"})}),Object(F.jsx)(N.a,{item:!0,sm:12,md:4,children:Object(F.jsxs)(C.a,{direction:"row",spacing:1,children:[Object(F.jsx)(S.a,Object(b.a)(Object(b.a)({type:"number",fullWidth:!0,variant:"standard",size:"small"},n("".concat(o,".from"))),{},{error:Boolean(Object(m.d)(r,"".concat(o,".from"))&&Object(m.d)(c,"".concat(o,".from"))),helperText:Object(m.d)(r,"".concat(o,".from"))&&Object(m.d)(c,"".concat(o,".from"))})),Object(F.jsx)(T.a,{children:"to"})]})}),Object(F.jsx)(N.a,{item:!0,sm:12,md:4,children:Object(F.jsxs)(C.a,{direction:"row",spacing:1,children:[Object(F.jsx)(S.a,Object(b.a)(Object(b.a)({type:"number",fullWidth:!0,variant:"standard",size:"small"},n("".concat(o,".to"))),{},{error:Boolean(Object(m.d)(r,"".concat(o,".to"))&&Object(m.d)(c,"".concat(o,".to"))),helperText:Object(m.d)(r,"".concat(o,".to"))&&Object(m.d)(c,"".concat(o,".to"))})),Object(F.jsx)(T.a,{children:"times"})]})})]})}),Object(F.jsx)(N.a,{item:!0,sm:12,md:4,children:Object(F.jsxs)(C.a,{direction:"row",children:[Object(F.jsx)(S.a,Object(b.a)(Object(b.a)({type:"number",fullWidth:!0,variant:"standard",size:"small"},n("".concat(o,".tickets"))),{},{error:Boolean(Object(m.d)(r,"".concat(o,".tickets"))&&Object(m.d)(c,"".concat(o,".tickets"))),helperText:Object(m.d)(r,"".concat(o,".tickets"))&&Object(m.d)(c,"".concat(o,".tickets"))})),Object(F.jsx)(T.a,{children:"tickets"}),Object(F.jsx)(z.a,{color:"error","aria-label":"delete",onClick:function(){return e.remove(a)},children:Object(F.jsx)(f.a,{})})]})})]},a)}))})})]})}})},D=function(e){var t=e.formik,c=t.errors,a=t.values,r=t.touched,n=t.getFieldProps;return Object(F.jsx)(m.a,{name:"followerRules",render:function(e){return Object(F.jsxs)(y.a,{children:[Object(F.jsx)(w.a,{title:"Follower Rules",titleTypographyProps:{variant:"subtitle1"},action:Object(F.jsx)(g.a,{size:"small",variant:"contained",startIcon:Object(F.jsx)(h.a,{icon:x.a}),onClick:function(){return e.push(Object(b.a)({},H))},children:"Add Rule"})}),Object(F.jsx)(R.a,{children:Object(F.jsx)(C.a,{spacing:2,children:a.followerRules.map((function(t,a){var o="followerRules.".concat(a);return Object(F.jsxs)(N.a,{container:!0,justifyContent:"space-between",children:[Object(F.jsx)(N.a,{item:!0,sm:12,md:6,children:Object(F.jsxs)(N.a,{container:!0,spacing:1,children:[Object(F.jsx)(N.a,{item:!0,sm:12,md:2,children:Object(F.jsx)(T.a,{children:"Follower"})}),Object(F.jsx)(N.a,{item:!0,sm:12,md:4,children:Object(F.jsxs)(C.a,{direction:"row",spacing:1,children:[Object(F.jsx)(S.a,Object(b.a)(Object(b.a)({type:"number",fullWidth:!0,variant:"standard",size:"small"},n("".concat(o,".from"))),{},{error:Boolean(Object(m.d)(r,"".concat(o,".from"))&&Object(m.d)(c,"".concat(o,".from"))),helperText:Object(m.d)(r,"".concat(o,".from"))&&Object(m.d)(c,"".concat(o,".from"))})),Object(F.jsx)(T.a,{children:"to"})]})}),Object(F.jsx)(N.a,{item:!0,sm:12,md:4,children:Object(F.jsxs)(C.a,{direction:"row",spacing:1,children:[Object(F.jsx)(S.a,Object(b.a)(Object(b.a)({type:"number",fullWidth:!0,variant:"standard",size:"small"},n("".concat(o,".to"))),{},{error:Boolean(Object(m.d)(r,"".concat(o,".to"))&&Object(m.d)(c,"".concat(o,".to"))),helperText:Object(m.d)(r,"".concat(o,".to"))&&Object(m.d)(c,"".concat(o,".to"))})),Object(F.jsx)(T.a,{children:"times"})]})})]})}),Object(F.jsx)(N.a,{item:!0,sm:12,md:4,children:Object(F.jsxs)(C.a,{direction:"row",children:[Object(F.jsx)(S.a,Object(b.a)(Object(b.a)({type:"number",fullWidth:!0,variant:"standard",size:"small"},n("".concat(o,".tickets"))),{},{error:Boolean(Object(m.d)(r,"".concat(o,".tickets"))&&Object(m.d)(c,"".concat(o,".tickets"))),helperText:Object(m.d)(r,"".concat(o,".tickets"))&&Object(m.d)(c,"".concat(o,".tickets"))})),Object(F.jsx)(T.a,{children:"tickets"}),Object(F.jsx)(z.a,{color:"error","aria-label":"delete",onClick:function(){return e.remove(a)},children:Object(F.jsx)(f.a,{})})]})})]},a)}))})})]})}})},L=function(e){var t=e.formik,c=t.errors,a=t.values,r=t.touched,n=t.getFieldProps,o=t.setFieldValue;return Object(F.jsx)(m.a,{name:"socialNetworkRules",render:function(e){return Object(F.jsxs)(y.a,{children:[Object(F.jsx)(w.a,{title:"Social Network Rules",titleTypographyProps:{variant:"subtitle1"},action:Object(F.jsx)(g.a,{size:"small",variant:"contained",startIcon:Object(F.jsx)(h.a,{icon:x.a}),onClick:function(){return e.push(Object(b.a)({},P))},children:"Add Rule"})}),Object(F.jsx)(R.a,{children:Object(F.jsxs)(C.a,{spacing:2,children:[Object(F.jsx)(B.a,{multiple:!0,disableCloseOnSelect:!0,size:"small",value:a.socialNetworks,onChange:function(e,t){o("socialNetworks",t)},options:["Facebook","Instagram","Twitter","Pinterest","Snapchat","Tiktok"],renderInput:function(e){return Object(F.jsx)(S.a,Object(b.a)(Object(b.a)({},e),{},{label:"Social Networks",error:Boolean(r.socialNetworks&&c.socialNetworks),helperText:r.socialNetworks&&c.socialNetworks}))}}),a.socialNetworkRules.map((function(t,a){var o="socialNetworkRules.".concat(a);return Object(F.jsxs)(N.a,{container:!0,justifyContent:"center",children:[Object(F.jsx)(N.a,{item:!0,sm:12,md:4,children:Object(F.jsxs)(C.a,{direction:"row",spacing:1,justifyContent:"center",children:[Object(F.jsx)(S.a,Object(b.a)(Object(b.a)({type:"number",variant:"standard",size:"small"},n("".concat(o,".socialNetworkCount"))),{},{error:Boolean(Object(m.d)(r,"".concat(o,".socialNetworkCount"))&&Object(m.d)(c,"".concat(o,".socialNetworkCount"))),helperText:Object(m.d)(r,"".concat(o,".socialNetworkCount"))&&Object(m.d)(c,"".concat(o,".socialNetworkCount"))})),Object(F.jsx)(T.a,{children:"Social Networks"})]})}),Object(F.jsx)(N.a,{item:!0,sm:12,md:4,children:Object(F.jsxs)(C.a,{direction:"row",justifyContent:"center",children:[Object(F.jsx)(S.a,Object(b.a)(Object(b.a)({type:"number",variant:"standard",size:"small"},n("".concat(o,".tickets"))),{},{error:Boolean(Object(m.d)(r,"".concat(o,".tickets"))&&Object(m.d)(c,"".concat(o,".tickets"))),helperText:Object(m.d)(r,"".concat(o,".tickets"))&&Object(m.d)(c,"".concat(o,".tickets"))})),Object(F.jsx)(T.a,{children:"tickets"}),Object(F.jsx)(z.a,{color:"error","aria-label":"delete",onClick:function(){return e.remove(a)},children:Object(F.jsx)(f.a,{})})]})})]},a)}))]})})]})}})},I=u.f().shape({name:u.g().required("Name is required"),type:u.g(),historicalDataRules:u.a(),appLevelRules:u.a(),followerRules:u.a(),socialNetworks:u.a(),socialNetworkRules:u.a()}),V=function(e){var t=e.isEdit,c=e.currentTicketRule,r=Object(a.g)(),o=Object(O.b)().enqueueSnackbar,i=Object(m.e)({enableReinitialize:!0,initialValues:{name:(null===c||void 0===c?void 0:c.name)||"",types:(null===c||void 0===c?void 0:c.types)||["Historical Data","App Level","Followers","Social"],historicalDataRules:(null===c||void 0===c?void 0:c.historicalDataRules)||[Object(b.a)({},H)],appLevelRules:(null===c||void 0===c?void 0:c.appLevelRules)||[Object(b.a)({},H)],followerRules:(null===c||void 0===c?void 0:c.followerRules)||[Object(b.a)({},H)],socialNetworks:(null===c||void 0===c?void 0:c.socialNetworks)||[],socialNetworkRules:(null===c||void 0===c?void 0:c.socialNetworkRules)||[Object(b.a)({},P)]},validationSchema:I,onSubmit:function(){var e=Object(d.a)(j.a.mark((function e(c,a){var i,s,l;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:i=a.setSubmitting,s=a.resetForm,l=a.setErrors,alert(JSON.stringify(c));try{s(),i(!1),o(t?"Update success":"Create success",{variant:"success"}),r(n.b.bonus.createTicketRule)}catch(j){console.error(j),i(!1),l(j)}case 3:case"end":return e.stop()}}),e)})));return function(t,c){return e.apply(this,arguments)}}()}),s=i.errors,l=i.values,u=i.touched,h=i.handleSubmit,p=i.isSubmitting,x=i.getFieldProps,f=i.setFieldValue;return console.log("*** ",l,s),Object(F.jsx)(m.c,{value:i,children:Object(F.jsx)(m.b,{noValidate:!0,autoComplete:"off",onSubmit:h,children:Object(F.jsx)(N.a,{container:!0,spacing:3,children:Object(F.jsx)(N.a,{item:!0,xs:12,children:Object(F.jsx)(y.a,{children:Object(F.jsx)(R.a,{children:Object(F.jsxs)(C.a,{spacing:3,children:[Object(F.jsxs)(C.a,{direction:{xs:"column",sm:"row"},spacing:{xs:3,sm:2},children:[Object(F.jsx)(S.a,Object(b.a)(Object(b.a)({fullWidth:!0,size:"small",label:"Name"},x("name")),{},{error:Boolean(u.name&&s.name),helperText:u.name&&s.name})),Object(F.jsx)(B.a,{fullWidth:!0,multiple:!0,disableCloseOnSelect:!0,size:"small",value:l.types,onChange:function(e,t){f("types",t)},options:["Historical Data","App Level","Followers","Social"],renderInput:function(e){return Object(F.jsx)(S.a,Object(b.a)(Object(b.a)({},e),{},{label:"Ticket Rules",error:Boolean(u.types&&s.types),helperText:u.types&&s.types}))}})]}),l.types.includes("Historical Data")&&Object(F.jsx)(A,{formik:i}),l.types.includes("App Level")&&Object(F.jsx)(W,{formik:i}),l.types.includes("Followers")&&Object(F.jsx)(D,{formik:i}),l.types.includes("Social")&&Object(F.jsx)(L,{formik:i}),Object(F.jsx)(M.a,{sx:{mt:3,display:"flex",justifyContent:"flex-end"},children:Object(F.jsx)(k.a,{type:"submit",variant:"contained",loading:p,endIcon:Object(F.jsx)(v.a,{}),children:"Save"})})]})})})})})})})};function E(){var e=Object(o.a)().themeStretch,t=Object(a.f)().pathname,c=Object(a.h)().name,l=t.includes("edit");return Object(F.jsx)(i.a,{title:"TicketRule: Create a new bonus",children:Object(F.jsxs)(r.a,{maxWidth:!e&&"lg",children:[Object(F.jsx)(s.a,{heading:l?"Edit Ticket Rule":"Add Ticket Rule",links:[{name:"TicketRule",href:n.b.root},{name:l?c:"Add Ticket Rule"}]}),Object(F.jsx)(V,{isEdit:l,currentTicketRule:{}})]})})}}}]);
//# sourceMappingURL=19.1613bfef.chunk.js.map