(this["webpackJsonpdashboard-admin"]=this["webpackJsonpdashboard-admin"]||[]).push([[10],{682:function(e,t,n){"use strict";n.d(t,"a",(function(){return b}));var r=n(3),a=n(31),i=n(175),s=n(636),c=n(226),l=n(227),o=n(658),d=n(38),u=n(0),j=["links","action","heading","moreLink","sx"];function b(e){var t=e.links,n=e.action,b=e.heading,h=e.moreLink,x=void 0===h?[]:h,O=e.sx,p=Object(a.a)(e,j);return Object(u.jsxs)(s.a,{sx:O,mb:5,spacing:2,children:[Object(u.jsxs)(s.a,{direction:"row",alignItems:"center",children:[Object(u.jsxs)(c.a,{sx:{flexGrow:1},children:[Object(u.jsx)(l.a,{variant:"h4",gutterBottom:!0,children:b}),Object(u.jsx)(d.a,Object(r.a)({links:t},p))]}),n&&Object(u.jsx)(c.a,{sx:{flexShrink:0},children:n})]}),Object(i.isString)(x)?Object(u.jsx)(o.a,{href:x,target:"_blank",variant:"body2",children:x}):x.map((function(e){return Object(u.jsx)(o.a,{noWrap:!0,href:e,variant:"body2",target:"_blank",sx:{display:"flex"},children:e},e)}))]})}},683:function(e,t,n){"use strict";n.d(t,"c",(function(){return r})),n.d(t,"a",(function(){return a})),n.d(t,"b",(function(){return i}));var r=/^((\\+[1-9]{1,4}[ \\-]*)|(\\([0-9]{2,3}\\)[ \\-]*)|([0-9]{2,4})[ \\-]*)*?[0-9]{3,4}?[ \\-]*[0-9]{3,4}?$/,a=/^[a-zA-Z0-9 ]*$/,i=/^[a-zA-Z ]*$/},690:function(e,t){t.__esModule=!0,t.default={body:'<path fill="currentColor" d="M19 11h-6V5a1 1 0 0 0-2 0v6H5a1 1 0 0 0 0 2h6v6a1 1 0 0 0 2 0v-6h6a1 1 0 0 0 0-2z"/>',width:24,height:24}},737:function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return M}));var r=n(21),a=n(679),i=n(33),s=n(64),c=n(282),l=n(682),o=n(3),d=n(42),u=n.n(d),j=n(72),b=n(180),h=n(128),x=n(178),O=(n(175),n(144)),p=n(22),m=n(690),f=n.n(m),v=n(728),g=n(729),y=n(730),D=n(650),C=n(656),S=n(678),k=n(636),q=n(645),w=n(747),P=n(666),T=n(748),z=n(663),U=n(226),W=n(683),B=n(0),E={title:"",options:[""]};function F(e){var t=e.isEdit,n=e.currentSurvey,a=Object(r.h)(),s=Object(h.useSnackbar)().enqueueSnackbar,c=b.f().shape({title:b.g().matches(W.b,"Cannot include special characters.").required("Title is required"),description:b.g(),percentageColor:b.g(),starPerUser:b.e().required("This field is required."),startDate:b.c(),endDate:b.c().when("startDate",(function(e,t){return e&&t.min(e,"End date must be later than start date")})),questions:b.a().of(b.f().shape({title:b.g(),options:b.a().of(b.g())}))}),l=Object(x.e)({enableReinitialize:!0,initialValues:{title:(null===n||void 0===n?void 0:n.title)||"",description:(null===n||void 0===n?void 0:n.description)||"",percentageColor:(null===n||void 0===n?void 0:n.percentageColor)||"",starPerUser:(null===n||void 0===n?void 0:n.starPerUser)||null,startDate:(null===n||void 0===n?void 0:n.startDate)?new Date(n.startDate):null,endDate:(null===n||void 0===n?void 0:n.endDate)?new Date(n.endDate):null,questions:(null===n||void 0===n?void 0:n.questions)||[E]},validationSchema:c,onSubmit:function(){var e=Object(j.a)(u.a.mark((function e(n,r){var c,l,o;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:c=r.setSubmitting,l=r.resetForm,o=r.setErrors,alert(JSON.stringify(n));try{l(),c(!1),s(t?"Update success":"Create success",{variant:"success"}),a(i.b.survey.list)}catch(d){console.error(d),c(!1),o(d)}case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()}),d=l.errors,m=l.values,F=l.touched,M=l.handleSubmit,I=l.isSubmitting,V=l.setFieldValue,_=l.getFieldProps;return console.log("*** ",m,d),Object(B.jsx)(x.c,{value:l,children:Object(B.jsx)(x.b,{noValidate:!0,autoComplete:"off",onSubmit:M,children:Object(B.jsxs)(C.a,{container:!0,spacing:3,children:[Object(B.jsx)(C.a,{item:!0,xs:12,md:8,children:Object(B.jsx)(S.a,{sx:{p:3},children:Object(B.jsxs)(k.a,{spacing:3,children:[Object(B.jsx)(k.a,{direction:{xs:"column",sm:"row"},spacing:{xs:3,sm:2},children:Object(B.jsx)(q.a,Object(o.a)(Object(o.a)({fullWidth:!0,size:"small",label:"Title"},_("title")),{},{error:Boolean(F.title&&d.title),helperText:F.title&&d.title}))}),Object(B.jsx)(k.a,{direction:{xs:"column",sm:"row"},spacing:{xs:3,sm:2},children:Object(B.jsx)(q.a,Object(o.a)(Object(o.a)({fullWidth:!0,multiline:!0,rows:3,size:"small",label:"Description"},_("description")),{},{error:Boolean(F.description&&d.description),helperText:F.description&&d.description}))}),Object(B.jsxs)(k.a,{direction:{xs:"column",sm:"row"},spacing:{xs:3,sm:2},children:[Object(B.jsx)(q.a,Object(o.a)(Object(o.a)({fullWidth:!0,size:"small",label:"Percentage Color"},_("percentageColor")),{},{error:Boolean(F.percentageColor&&d.percentageColor),helperText:F.percentageColor&&d.percentageColor})),Object(B.jsx)(q.a,Object(o.a)(Object(o.a)({fullWidth:!0,size:"small",label:"Star Per User",type:"number"},_("starPerUser")),{},{error:Boolean(F.starPerUser&&d.starPerUser),helperText:F.starPerUser&&d.starPerUser}))]}),Object(B.jsxs)(k.a,{direction:{xs:"column",sm:"row"},spacing:{xs:3,sm:2},children:[Object(B.jsx)(y.a,{label:"Start date",value:m.startDate,inputFormat:"dd/MM/yyyy hh:mm a",onChange:function(e){return Object(O.a)(e)?V("startDate",e):null},renderInput:function(e){return Object(B.jsx)(q.a,Object(o.a)(Object(o.a)({},e),{},{fullWidth:!0,error:Boolean(F.startDate&&d.startDate),helperText:F.startDate&&d.startDate,sx:{mb:3}}))}}),Object(B.jsx)(y.a,{label:"End date",value:m.endDate,inputFormat:"dd/MM/yyyy hh:mm a",onChange:function(e){return Object(O.a)(e)?V("endDate",e):null},renderInput:function(e){return Object(B.jsx)(q.a,Object(o.a)(Object(o.a)({},e),{},{fullWidth:!0,error:Boolean(F.endDate&&d.endDate),helperText:F.endDate&&d.endDate,sx:{mb:3}}))}})]}),Object(B.jsx)(x.a,{name:"questions",render:function(e){return Object(B.jsxs)(S.a,{children:[Object(B.jsx)(w.a,{title:"Questions",action:Object(B.jsx)(P.a,{variant:"contained",startIcon:Object(B.jsx)(p.a,{icon:f.a}),onClick:function(){return e.push(E)},children:"Add New"})}),Object(B.jsx)(T.a,{children:Object(B.jsx)(k.a,{spacing:2,children:m.questions.map((function(e,t){return console.log("question index: ",t),Object(B.jsxs)(S.a,{children:[Object(B.jsx)(w.a,{title:"Question ".concat(t+1),titleTypographyProps:{variant:"h8"}}),Object(B.jsx)(T.a,{children:Object(B.jsxs)(k.a,{spacing:1,children:[Object(B.jsx)(q.a,Object(o.a)(Object(o.a)({fullWidth:!0,size:"small",label:"Title"},_("questions.".concat(t,".title"))),{},{error:Boolean(Object(x.d)(F,"questions.".concat(t,".title"))&&Object(x.d)(d,"questions.".concat(t,".title"))),helperText:Object(x.d)(F,"questions.".concat(t,".title"))&&Object(x.d)(d,"questions.".concat(t,".title"))})),Object(B.jsx)(x.a,{name:"questions.".concat(t,".options"),render:function(e){return Object(B.jsxs)(B.Fragment,{children:[m.questions[t].options.map((function(n,r){var a="questions.".concat(t,".options.").concat(r);return Object(B.jsxs)(k.a,{direction:"row",spacing:1,children:[Object(B.jsx)(q.a,Object(o.a)(Object(o.a)({fullWidth:!0,size:"small",label:"Option ".concat(r+1)},_(a)),{},{error:Boolean(Object(x.d)(F,a)&&Object(x.d)(d,a)),helperText:Object(x.d)(F,a)&&Object(x.d)(d,a)})),Object(B.jsx)(z.a,{color:"error","aria-label":"delete",onClick:function(){return e.remove(r)},children:Object(B.jsx)(v.a,{})})]},r)})),Object(B.jsx)(z.a,{color:"primary","aria-label":"plus",onClick:function(){return e.push("")},children:Object(B.jsx)(g.a,{})})]})}})]})})]},t)}))})})]})}}),Object(B.jsxs)(U.a,{sx:{mt:3,display:"flex",justifyContent:"flex-end"},children:[Object(B.jsx)(P.a,{sx:{mr:2},variant:"outlined",onClick:function(){return console.log("Draft Clicked")},children:"Draft"}),Object(B.jsx)(D.a,{type:"submit",variant:"contained",loading:I,children:"Publish"})]})]})})}),Object(B.jsx)(C.a,{item:!0,xs:12,md:4,children:Object(B.jsx)(S.a,{sx:{p:3},children:"Later Phase"})})]})})})}function M(){var e=Object(s.a)().themeStretch,t=Object(r.g)().pathname,n=Object(r.i)().title,o=t.includes("edit");return Object(B.jsx)(c.a,{title:"Survey: Create a new survey",children:Object(B.jsxs)(a.a,{maxWidth:!e&&"lg",children:[Object(B.jsx)(l.a,{heading:o?"Edit Survey":"Create Survey",links:[{name:"Survey",href:i.b.survey.list},{name:o?n:"Create Survey"}]}),Object(B.jsx)(F,{isEdit:o,currentSurvey:{}})]})})}}}]);
//# sourceMappingURL=10.a1165f2d.chunk.js.map