(this["webpackJsonpdashboard-admin"]=this["webpackJsonpdashboard-admin"]||[]).push([[15],{2208:function(e,t){t.__esModule=!0,t.default={body:'<path fill="currentColor" d="M19 11h-6V5a1 1 0 0 0-2 0v6H5a1 1 0 0 0 0 2h6v6a1 1 0 0 0 2 0v-6h6a1 1 0 0 0 0-2z"/>',width:24,height:24}},2210:function(e,t,a){"use strict";a.d(t,"c",(function(){return n})),a.d(t,"a",(function(){return r})),a.d(t,"b",(function(){return c}));var n=/^((\\+[1-9]{1,4}[ \\-]*)|(\\([0-9]{2,3}\\)[ \\-]*)|([0-9]{2,4})[ \\-]*)*?[0-9]{3,4}?[ \\-]*[0-9]{3,4}?$/,r=/^[a-zA-Z0-9 ]*$/,c=/^[a-zA-Z ]*$/},2211:function(e,t,a){"use strict";var n=a(2),r=a(7),c=a(1),o=(a(8),a(9)),s=a(183),i=a(6),l=a(13),b=a(131),u=a(155);function d(e){return Object(b.a)("MuiCardContent",e)}Object(u.a)("MuiCardContent",["root"]);var j=a(0),O=["className","component"],f=Object(i.a)("div",{name:"MuiCardContent",slot:"Root",overridesResolver:function(e,t){return t.root}})((function(){return{padding:16,"&:last-child":{paddingBottom:24}}})),m=c.forwardRef((function(e,t){var a=Object(l.a)({props:e,name:"MuiCardContent"}),c=a.className,i=a.component,b=void 0===i?"div":i,u=Object(r.a)(a,O),m=Object(n.a)({},a,{component:b}),p=function(e){var t=e.classes;return Object(s.a)({root:["root"]},d,t)}(m);return Object(j.jsx)(f,Object(n.a)({as:b,className:Object(o.a)(p.root,c),ownerState:m,ref:t},u))}));t.a=m},2213:function(e,t,a){"use strict";var n=a(4),r=a(7),c=a(2),o=a(1),s=(a(8),a(9)),i=a(183),l=a(184),b=a(13),u=a(6),d=a(131),j=a(155);function O(e){return Object(d.a)("MuiCardHeader",e)}var f=Object(j.a)("MuiCardHeader",["root","avatar","action","content","title","subheader"]),m=a(0),p=["action","avatar","className","component","disableTypography","subheader","subheaderTypographyProps","title","titleTypographyProps"],h=Object(u.a)("div",{name:"MuiCardHeader",slot:"Root",overridesResolver:function(e,t){var a;return Object(c.a)((a={},Object(n.a)(a,"& .".concat(f.title),t.title),Object(n.a)(a,"& .".concat(f.subheader),t.subheader),a),t.root)}})({display:"flex",alignItems:"center",padding:16}),v=Object(u.a)("div",{name:"MuiCardHeader",slot:"Avatar",overridesResolver:function(e,t){return t.avatar}})({display:"flex",flex:"0 0 auto",marginRight:16}),x=Object(u.a)("div",{name:"MuiCardHeader",slot:"Action",overridesResolver:function(e,t){return t.action}})({flex:"0 0 auto",alignSelf:"flex-start",marginTop:-4,marginRight:-8,marginBottom:-4}),y=Object(u.a)("div",{name:"MuiCardHeader",slot:"Content",overridesResolver:function(e,t){return t.content}})({flex:"1 1 auto"}),g=o.forwardRef((function(e,t){var a=Object(b.a)({props:e,name:"MuiCardHeader"}),n=a.action,o=a.avatar,u=a.className,d=a.component,j=void 0===d?"div":d,f=a.disableTypography,g=void 0!==f&&f,C=a.subheader,w=a.subheaderTypographyProps,S=a.title,B=a.titleTypographyProps,R=Object(r.a)(a,p),T=Object(c.a)({},a,{component:j,disableTypography:g}),k=function(e){var t=e.classes;return Object(i.a)({root:["root"],avatar:["avatar"],action:["action"],content:["content"],title:["title"],subheader:["subheader"]},O,t)}(T),q=S;null==q||q.type===l.a||g||(q=Object(m.jsx)(l.a,Object(c.a)({variant:o?"body2":"h5",className:k.title,component:"span",display:"block"},B,{children:q})));var N=C;return null==N||N.type===l.a||g||(N=Object(m.jsx)(l.a,Object(c.a)({variant:o?"body2":"body1",className:k.subheader,color:"text.secondary",component:"span",display:"block"},w,{children:N}))),Object(m.jsxs)(h,Object(c.a)({className:Object(s.a)(k.root,u),as:j,ref:t,ownerState:T},R,{children:[o&&Object(m.jsx)(v,{className:k.avatar,ownerState:T,children:o}),Object(m.jsxs)(y,{className:k.content,ownerState:T,children:[q,N]}),n&&Object(m.jsx)(x,{className:k.action,ownerState:T,children:n})]}))}));t.a=g},2217:function(e,t,a){"use strict";a.d(t,"a",(function(){return n}));var n=function(e){return"/static/mock-images/products/product_".concat(e,".jpg")}},2225:function(e,t,a){"use strict";var n=a(28),r=a(0);t.a=Object(n.a)(Object(r.jsx)("path",{d:"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6v12zM19 4h-3.5l-1-1h-5l-1 1H5v2h14V4z"}),"Delete")},2310:function(e,t,a){"use strict";a.r(t),a.d(t,"default",(function(){return G}));var n=a(25),r=a(2201),c=a(20),o=a(60),s=a(187),i=a(281),l=a(37),b=a.n(l),u=a(66),d=a(3),j=a(62),O=a(1),f=a(95),m=a(94),p=a(21),h=a(2208),v=a.n(h),x=a(2225),y=a(2152),g=a(2175),C=a(2171),w=a(2200),S=a(2213),B=a(2211),R=a(157),T=a(184),k=a(2197),q=a(397),N=a(2192),z=a(2173),A=a(2183),K=a(2182),M=a(2180),U=a(113),P=a(2210),E=a(283),W=a(0),H=["Easter Egg","Present","Chest","Lottery Wheel"],I=2,V=10,F=20,L=1,D={title:"Basic",frequency:100,numberOfKeys:5,numberOfCoins:5,numberOfStars:5,numberOfBoosters:5},J={title:"Basic",frequency:0,numberOfKeys:0,numberOfCoins:0,numberOfStars:0,numberOfBoosters:0},$=j.f().shape({avatarUrl:j.d().required("Avatar is required"),name:j.g().matches(P.b,"Cannot include special characters.").required("Name is required"),type:j.g(),location:j.g(),contents:j.a().of(j.f().shape({title:j.g(),frequency:j.e().min(1).max(100).test("total frequency test","total frequencies must be exactly 100%",(function(){return 100===this.options.context.contents.reduce((function(e,t){return e+t.frequency}),0)})),numberOfKeys:j.e(),numberOfCoins:j.e(),numberOfStars:j.e(),numberOfBoosters:j.e()}))});function _(e){var t=e.isEdit,a=e.currentReward,r=Object(n.g)(),o=Object(f.b)().enqueueSnackbar,s=Object(m.e)({enableReinitialize:!0,initialValues:{avatarUrl:(null===a||void 0===a?void 0:a.avatarUrl)||null,name:(null===a||void 0===a?void 0:a.name)||"Reward Name",type:(null===a||void 0===a?void 0:a.type)||"Easter Egg",location:(null===a||void 0===a?void 0:a.location)||"Unassigned",contents:(null===a||void 0===a?void 0:a.contents)||[Object(d.a)({},D)]},validate:function(){var e=Object(u.a)(b.a.mark((function e(t){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(m.f)(t,$,!0,t);case 3:e.next=8;break;case 5:return e.prev=5,e.t0=e.catch(0),e.abrupt("return",Object(m.g)(e.t0));case 8:return e.abrupt("return",{});case 9:case"end":return e.stop()}}),e,null,[[0,5]])})));return function(t){return e.apply(this,arguments)}}(),onSubmit:function(){var e=Object(u.a)(b.a.mark((function e(a,n){var s,i,l;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:s=n.setSubmitting,i=n.resetForm,l=n.setErrors,alert(JSON.stringify(a));try{i(),s(!1),o(t?"Update success":"Create success",{variant:"success"}),r(c.b.reward.list)}catch(b){console.error(b),s(!1),l(b)}case 3:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}()}),i=s.errors,l=s.values,j=s.touched,h=s.handleSubmit,P=s.isSubmitting,_=s.setFieldValue,Z=s.getFieldProps,G=Object(O.useCallback)((function(e){var t=e[0];t&&_("avatarUrl",Object(d.a)(Object(d.a)({},t),{},{preview:URL.createObjectURL(t)}))}),[_]);return Object(W.jsx)(m.c,{value:s,children:Object(W.jsx)(m.b,{noValidate:!0,autoComplete:"off",onSubmit:h,children:Object(W.jsxs)(C.a,{container:!0,spacing:3,children:[Object(W.jsx)(C.a,{item:!0,md:12,children:Object(W.jsxs)(C.a,{container:!0,spacing:3,children:[Object(W.jsx)(C.a,{item:!0,xs:12,md:4,children:Object(W.jsxs)(w.a,{sx:{height:"100%"},children:[Object(W.jsx)(S.a,{title:"Reward Image/Icon",titleTypographyProps:{variant:"subtitle2"}}),Object(W.jsx)(B.a,{children:Object(W.jsxs)(R.a,{children:[Object(W.jsx)(E.a,{accept:"image/*",file:l.avatarUrl,maxSize:3145728,onDrop:G,error:Boolean(j.avatarUrl&&i.avatarUrl),caption:Object(W.jsxs)(T.a,{variant:"caption",sx:{mt:2,mx:"auto",display:"block",textAlign:"center",color:"text.secondary"},children:["Allowed *.jpeg, *.jpg, *.png, *.gif",Object(W.jsx)("br",{})," max size of ",Object(U.a)(3145728)]})}),Object(W.jsx)(k.a,{error:!0,sx:{px:2,textAlign:"center"},children:j.avatarUrl&&i.avatarUrl})]})})]})}),Object(W.jsx)(C.a,{item:!0,xs:12,md:8,children:Object(W.jsx)(w.a,{sx:{height:"100%"},children:Object(W.jsx)(B.a,{children:Object(W.jsxs)(q.a,{spacing:2,children:[Object(W.jsx)(N.a,Object(d.a)(Object(d.a)({fullWidth:!0,size:"small",label:"Name"},Z("name")),{},{error:Boolean(j.name&&i.name),helperText:j.name&&i.name})),Object(W.jsxs)(q.a,{direction:"row",spacing:2,children:[Object(W.jsx)(N.a,Object(d.a)(Object(d.a)({select:!0,fullWidth:!0,size:"small",label:"Reward Type",placeholder:"Reward Type"},Z("type")),{},{SelectProps:{native:!0},error:Boolean(j.type&&i.type),helperText:j.type&&i.type,children:H.map((function(e){return Object(W.jsx)("option",{value:e,children:e},e)}))})),Object(W.jsx)(z.a,{fullWidth:!0,size:"small",freeSolo:!0,value:l.location,onChange:function(e,t){_("location",t)},options:["Default","Referral","Unassigned"],renderInput:function(e){return Object(W.jsx)(N.a,Object(d.a)(Object(d.a)({},e),{},{label:"Location",error:Boolean(j.location&&i.location),helperText:j.location&&i.location||"Type and enter to add new location."}))}})]}),Object(W.jsxs)(T.a,{children:["Average value of single selection in this set = ",l.contents.reduce((function(e,t){var a=V*t.numberOfKeys+I*t.numberOfStars+L*t.numberOfCoins+F*t.numberOfBoosters;return e+t.frequency*a}),0)," tokens"]})]})})})})]})}),Object(W.jsxs)(C.a,{item:!0,md:12,children:[Object(W.jsx)(m.a,{name:"contents",render:function(e){return Object(W.jsxs)(w.a,{children:[Object(W.jsx)(S.a,{title:"Contents",action:Object(W.jsx)(A.a,{variant:"contained",startIcon:Object(W.jsx)(p.a,{icon:v.a}),onClick:function(){var t;0===(null===l||void 0===l||null===(t=l.contents)||void 0===t?void 0:t.length)?e.push(D):e.push(J)},children:"Add Option"})}),Object(W.jsx)(B.a,{children:Object(W.jsx)(C.a,{container:!0,spacing:1,children:l.contents.map((function(t,a){var n="contents.".concat(a),r=V*t.numberOfKeys+I*t.numberOfStars+L*t.numberOfCoins+F*t.numberOfBoosters;return Object(W.jsx)(C.a,{item:!0,xs:12,md:3,children:Object(W.jsx)(w.a,{children:Object(W.jsx)(B.a,{children:Object(W.jsxs)(q.a,{spacing:1,children:[Object(W.jsx)(N.a,Object(d.a)(Object(d.a)({fullWidth:!0,variant:"standard",size:"small",label:"Title"},Z("".concat(n,".title"))),{},{error:Boolean(Object(m.d)(j,"".concat(n,".title"))&&Object(m.d)(i,"".concat(n,".title"))),helperText:Object(m.d)(j,"".concat(n,".title"))&&Object(m.d)(i,"".concat(n,".title"))})),Object(W.jsx)(N.a,Object(d.a)(Object(d.a)({fullWidth:!0,type:"number",variant:"standard",size:"small",label:"Frequency"},Z("".concat(n,".frequency"))),{},{error:Boolean(Object(m.d)(j,"".concat(n,".frequency"))&&Object(m.d)(i,"".concat(n,".frequency"))),helperText:Object(m.d)(j,"".concat(n,".frequency"))&&Object(m.d)(i,"".concat(n,".frequency"))})),Object(W.jsx)(N.a,Object(d.a)(Object(d.a)({fullWidth:!0,type:"number",variant:"standard",size:"small",label:"Number of Keys",InputProps:{endAdornment:Object(W.jsxs)(K.a,{position:"end",children:["= ",V*t.numberOfKeys," tokens"]})}},Z("".concat(n,".numberOfKeys"))),{},{error:Boolean(Object(m.d)(j,"".concat(n,".numberOfKeys"))&&Object(m.d)(i,"".concat(n,".numberOfKeys"))),helperText:Object(m.d)(j,"".concat(n,".numberOfKeys"))&&Object(m.d)(i,"".concat(n,".numberOfKeys"))})),Object(W.jsx)(N.a,Object(d.a)(Object(d.a)({fullWidth:!0,type:"number",variant:"standard",size:"small",label:"Number of Stars",InputProps:{endAdornment:Object(W.jsxs)(K.a,{position:"end",children:["= ",I*t.numberOfStars," tokens"]})}},Z("".concat(n,".numberOfStars"))),{},{error:Boolean(Object(m.d)(j,"".concat(n,".numberOfStars"))&&Object(m.d)(i,"".concat(n,".numberOfStars"))),helperText:Object(m.d)(j,"".concat(n,".numberOfStars"))&&Object(m.d)(i,"".concat(n,".numberOfStars"))})),Object(W.jsx)(N.a,Object(d.a)(Object(d.a)({fullWidth:!0,type:"number",variant:"standard",size:"small",label:"Number of Coins",InputProps:{endAdornment:Object(W.jsxs)(K.a,{position:"end",children:["= ",L*t.numberOfCoins," tokens"]})}},Z("".concat(n,".numberOfCoins"))),{},{error:Boolean(Object(m.d)(j,"".concat(n,".numberOfCoins"))&&Object(m.d)(i,"".concat(n,".numberOfCoins"))),helperText:Object(m.d)(j,"".concat(n,".numberOfCoins"))&&Object(m.d)(i,"".concat(n,".numberOfCoins"))})),Object(W.jsx)(N.a,Object(d.a)(Object(d.a)({fullWidth:!0,type:"number",variant:"standard",size:"small",label:"Number of Boosters",InputProps:{endAdornment:Object(W.jsxs)(K.a,{position:"end",children:["= ",F*t.numberOfBoosters," tokens"]})}},Z("".concat(n,".numberOfBoosters"))),{},{error:Boolean(Object(m.d)(j,"".concat(n,".numberOfBoosters"))&&Object(m.d)(i,"".concat(n,".numberOfBoosters"))),helperText:Object(m.d)(j,"".concat(n,".numberOfBoosters"))&&Object(m.d)(i,"".concat(n,".numberOfBoosters"))})),Object(W.jsx)(M.a,{color:"error","aria-label":"delete",onClick:function(){return e.remove(a)},children:Object(W.jsx)(x.a,{})}),Object(W.jsxs)(q.a,{direction:"row",justifyContent:"space-between",children:[Object(W.jsx)(T.a,{children:"Token value: "}),Object(W.jsxs)(T.a,{children:[r," tokens"]})]})]})})})},a)}))})})]})}}),Object(W.jsx)(R.a,{sx:{mt:3,display:"flex",justifyContent:"flex-end"},children:Object(W.jsx)(g.a,{type:"submit",variant:"contained",loading:P,endIcon:Object(W.jsx)(y.a,{}),children:"Save"})})]})]})})})}var Z=a(2217);function G(){var e=Object(o.a)().themeStretch,t=Object(n.f)().pathname,a=Object(n.h)().name,l=t.includes("edit"),b=l?{avatarUrl:Object(Z.a)(1),name:"Easter Egg",location:"Turkey",contents:[{title:"Basic",frequency:30,numberOfKeys:5,numberOfCoins:5,numberOfStars:5,numberOfBoosters:5},{title:"Rare",frequency:30,numberOfKeys:10,numberOfCoins:15,numberOfStars:5,numberOfBoosters:10},{title:"Epic",frequency:20,numberOfKeys:20,numberOfCoins:30,numberOfStars:20,numberOfBoosters:25}]}:{};return Object(W.jsx)(s.a,{title:"Reward: Create a new reward",children:Object(W.jsxs)(r.a,{maxWidth:!e&&"lg",children:[Object(W.jsx)(i.a,{heading:l?"Edit Reward":"Add Reward",links:[{name:"Reward",href:c.b.root},{name:l?a:"Add Reward"}]}),Object(W.jsx)(_,{isEdit:l,currentReward:b})]})})}}}]);
//# sourceMappingURL=15.9a40d51c.chunk.js.map