(this["webpackJsonpdashboard-admin"]=this["webpackJsonpdashboard-admin"]||[]).push([[18],{2309:function(e,t,c){"use strict";c.r(t),c.d(t,"default",(function(){return I}));var a=c(22),n=c(688),r=c(21),i=c(63),s=c(282),o=c(691),l=c(41),j=c.n(l),d=c(69),b=c(3),u=(c(1),c(178)),O=c(127),h=c(177),m=c(23),p=c(693),x=c.n(p),f=c(706),v=c(662),k=c(687),y=c(703),g=c(671),w=c(720),R=c(638),C=c(660),N=c(227),T=c(681),z=c(2299),S=c(226),P=c(0),B={from:1,to:5,tickets:2},H={socialNetworkCount:3,tickets:1},M=function(e){var t=e.formik,c=t.errors,a=t.values,n=t.touched,r=t.getFieldProps;return Object(P.jsx)(h.a,{name:"historicalDataRules",render:function(e){return Object(P.jsxs)(k.a,{children:[Object(P.jsx)(y.a,{title:"Historical Data Rules",titleTypographyProps:{variant:"subtitle1"},action:Object(P.jsx)(g.a,{size:"small",variant:"contained",startIcon:Object(P.jsx)(m.a,{icon:x.a}),onClick:function(){return e.push(Object(b.a)({},B))},children:"Add Rule"})}),Object(P.jsx)(w.a,{children:Object(P.jsx)(R.a,{spacing:2,children:a.historicalDataRules.map((function(e,t){var a="historicalDataRules.".concat(t);return Object(P.jsxs)(C.a,{container:!0,justifyContent:"space-between",children:[Object(P.jsx)(C.a,{item:!0,sm:12,md:6,children:Object(P.jsxs)(C.a,{container:!0,spacing:1,children:[Object(P.jsx)(C.a,{item:!0,sm:12,md:2,children:Object(P.jsx)(N.a,{children:"did not win"})}),Object(P.jsx)(C.a,{item:!0,sm:12,md:4,children:Object(P.jsxs)(R.a,{direction:"row",spacing:1,children:[Object(P.jsx)(T.a,Object(b.a)(Object(b.a)({type:"number",fullWidth:!0,variant:"standard",size:"small"},r("".concat(a,".from"))),{},{error:Boolean(Object(h.d)(n,"".concat(a,".from"))&&Object(h.d)(c,"".concat(a,".from"))),helperText:Object(h.d)(n,"".concat(a,".from"))&&Object(h.d)(c,"".concat(a,".from"))})),Object(P.jsx)(N.a,{children:"to"})]})}),Object(P.jsx)(C.a,{item:!0,sm:12,md:4,children:Object(P.jsxs)(R.a,{direction:"row",spacing:1,children:[Object(P.jsx)(T.a,Object(b.a)(Object(b.a)({type:"number",fullWidth:!0,variant:"standard",size:"small"},r("".concat(a,".to"))),{},{error:Boolean(Object(h.d)(n,"".concat(a,".to"))&&Object(h.d)(c,"".concat(a,".to"))),helperText:Object(h.d)(n,"".concat(a,".to"))&&Object(h.d)(c,"".concat(a,".to"))})),Object(P.jsx)(N.a,{children:"times"})]})})]})}),Object(P.jsx)(C.a,{item:!0,sm:12,md:4,children:Object(P.jsxs)(R.a,{direction:"row",children:[Object(P.jsx)(T.a,Object(b.a)(Object(b.a)({type:"number",fullWidth:!0,variant:"standard",size:"small"},r("".concat(a,".tickets"))),{},{error:Boolean(Object(h.d)(n,"".concat(a,".tickets"))&&Object(h.d)(c,"".concat(a,".tickets"))),helperText:Object(h.d)(n,"".concat(a,".tickets"))&&Object(h.d)(c,"".concat(a,".tickets"))})),Object(P.jsx)(N.a,{children:"tickets"})]})})]},t)}))})})]})}})},W=function(e){var t=e.formik,c=t.errors,a=t.values,n=t.touched,r=t.getFieldProps;return Object(P.jsx)(h.a,{name:"appLevelRules",render:function(e){return Object(P.jsxs)(k.a,{children:[Object(P.jsx)(y.a,{title:"App Level Rules",titleTypographyProps:{variant:"subtitle1"},action:Object(P.jsx)(g.a,{size:"small",variant:"contained",startIcon:Object(P.jsx)(m.a,{icon:x.a}),onClick:function(){return e.push(Object(b.a)({},B))},children:"Add Rule"})}),Object(P.jsx)(w.a,{children:Object(P.jsx)(R.a,{spacing:2,children:a.appLevelRules.map((function(e,t){var a="appLevelRules.".concat(t);return Object(P.jsxs)(C.a,{container:!0,justifyContent:"space-between",children:[Object(P.jsx)(C.a,{item:!0,sm:12,md:6,children:Object(P.jsxs)(C.a,{container:!0,spacing:1,children:[Object(P.jsx)(C.a,{item:!0,sm:12,md:2,children:Object(P.jsx)(N.a,{children:"App Level"})}),Object(P.jsx)(C.a,{item:!0,sm:12,md:4,children:Object(P.jsxs)(R.a,{direction:"row",spacing:1,children:[Object(P.jsx)(T.a,Object(b.a)(Object(b.a)({type:"number",fullWidth:!0,variant:"standard",size:"small"},r("".concat(a,".from"))),{},{error:Boolean(Object(h.d)(n,"".concat(a,".from"))&&Object(h.d)(c,"".concat(a,".from"))),helperText:Object(h.d)(n,"".concat(a,".from"))&&Object(h.d)(c,"".concat(a,".from"))})),Object(P.jsx)(N.a,{children:"to"})]})}),Object(P.jsx)(C.a,{item:!0,sm:12,md:4,children:Object(P.jsxs)(R.a,{direction:"row",spacing:1,children:[Object(P.jsx)(T.a,Object(b.a)(Object(b.a)({type:"number",fullWidth:!0,variant:"standard",size:"small"},r("".concat(a,".to"))),{},{error:Boolean(Object(h.d)(n,"".concat(a,".to"))&&Object(h.d)(c,"".concat(a,".to"))),helperText:Object(h.d)(n,"".concat(a,".to"))&&Object(h.d)(c,"".concat(a,".to"))})),Object(P.jsx)(N.a,{children:"times"})]})})]})}),Object(P.jsx)(C.a,{item:!0,sm:12,md:4,children:Object(P.jsxs)(R.a,{direction:"row",children:[Object(P.jsx)(T.a,Object(b.a)(Object(b.a)({type:"number",fullWidth:!0,variant:"standard",size:"small"},r("".concat(a,".tickets"))),{},{error:Boolean(Object(h.d)(n,"".concat(a,".tickets"))&&Object(h.d)(c,"".concat(a,".tickets"))),helperText:Object(h.d)(n,"".concat(a,".tickets"))&&Object(h.d)(c,"".concat(a,".tickets"))})),Object(P.jsx)(N.a,{children:"tickets"})]})})]},t)}))})})]})}})},A=function(e){var t=e.formik,c=t.errors,a=t.values,n=t.touched,r=t.getFieldProps;return Object(P.jsx)(h.a,{name:"followerRules",render:function(e){return Object(P.jsxs)(k.a,{children:[Object(P.jsx)(y.a,{title:"Follower Rules",titleTypographyProps:{variant:"subtitle1"},action:Object(P.jsx)(g.a,{size:"small",variant:"contained",startIcon:Object(P.jsx)(m.a,{icon:x.a}),onClick:function(){return e.push(Object(b.a)({},B))},children:"Add Rule"})}),Object(P.jsx)(w.a,{children:Object(P.jsx)(R.a,{spacing:2,children:a.followerRules.map((function(e,t){var a="followerRules.".concat(t);return Object(P.jsxs)(C.a,{container:!0,justifyContent:"space-between",children:[Object(P.jsx)(C.a,{item:!0,sm:12,md:6,children:Object(P.jsxs)(C.a,{container:!0,spacing:1,children:[Object(P.jsx)(C.a,{item:!0,sm:12,md:2,children:Object(P.jsx)(N.a,{children:"Follower"})}),Object(P.jsx)(C.a,{item:!0,sm:12,md:4,children:Object(P.jsxs)(R.a,{direction:"row",spacing:1,children:[Object(P.jsx)(T.a,Object(b.a)(Object(b.a)({type:"number",fullWidth:!0,variant:"standard",size:"small"},r("".concat(a,".from"))),{},{error:Boolean(Object(h.d)(n,"".concat(a,".from"))&&Object(h.d)(c,"".concat(a,".from"))),helperText:Object(h.d)(n,"".concat(a,".from"))&&Object(h.d)(c,"".concat(a,".from"))})),Object(P.jsx)(N.a,{children:"to"})]})}),Object(P.jsx)(C.a,{item:!0,sm:12,md:4,children:Object(P.jsxs)(R.a,{direction:"row",spacing:1,children:[Object(P.jsx)(T.a,Object(b.a)(Object(b.a)({type:"number",fullWidth:!0,variant:"standard",size:"small"},r("".concat(a,".to"))),{},{error:Boolean(Object(h.d)(n,"".concat(a,".to"))&&Object(h.d)(c,"".concat(a,".to"))),helperText:Object(h.d)(n,"".concat(a,".to"))&&Object(h.d)(c,"".concat(a,".to"))})),Object(P.jsx)(N.a,{children:"times"})]})})]})}),Object(P.jsx)(C.a,{item:!0,sm:12,md:4,children:Object(P.jsxs)(R.a,{direction:"row",children:[Object(P.jsx)(T.a,Object(b.a)(Object(b.a)({type:"number",fullWidth:!0,variant:"standard",size:"small"},r("".concat(a,".tickets"))),{},{error:Boolean(Object(h.d)(n,"".concat(a,".tickets"))&&Object(h.d)(c,"".concat(a,".tickets"))),helperText:Object(h.d)(n,"".concat(a,".tickets"))&&Object(h.d)(c,"".concat(a,".tickets"))})),Object(P.jsx)(N.a,{children:"tickets"})]})})]},t)}))})})]})}})},F=function(e){var t=e.formik,c=t.errors,a=t.values,n=t.touched,r=t.getFieldProps,i=t.setFieldValue;return Object(P.jsx)(h.a,{name:"socialNetworkRules",render:function(e){return Object(P.jsxs)(k.a,{children:[Object(P.jsx)(y.a,{title:"Social Network Rules",titleTypographyProps:{variant:"subtitle1"},action:Object(P.jsx)(g.a,{size:"small",variant:"contained",startIcon:Object(P.jsx)(m.a,{icon:x.a}),onClick:function(){return e.push(Object(b.a)({},H))},children:"Add Rule"})}),Object(P.jsx)(w.a,{children:Object(P.jsxs)(R.a,{spacing:2,children:[Object(P.jsx)(z.a,{multiple:!0,size:"small",value:a.socialNetworks,onChange:function(e,t){i("socialNetworks",t)},options:["Facebook","Instagram","Twitter","Pinterest","Snapchat","Tiktok"],renderInput:function(e){return Object(P.jsx)(T.a,Object(b.a)(Object(b.a)({},e),{},{label:"Social Networks",error:Boolean(n.socialNetworks&&c.socialNetworks),helperText:n.socialNetworks&&c.socialNetworks}))}}),a.socialNetworkRules.map((function(e,t){var a="socialNetworkRules.".concat(t);return Object(P.jsxs)(C.a,{container:!0,justifyContent:"center",children:[Object(P.jsx)(C.a,{item:!0,sm:12,md:4,children:Object(P.jsxs)(R.a,{direction:"row",spacing:1,justifyContent:"center",children:[Object(P.jsx)(T.a,Object(b.a)(Object(b.a)({type:"number",variant:"standard",size:"small"},r("".concat(a,".socialNetworkCount"))),{},{error:Boolean(Object(h.d)(n,"".concat(a,".socialNetworkCount"))&&Object(h.d)(c,"".concat(a,".socialNetworkCount"))),helperText:Object(h.d)(n,"".concat(a,".socialNetworkCount"))&&Object(h.d)(c,"".concat(a,".socialNetworkCount"))})),Object(P.jsx)(N.a,{children:"Social Networks"})]})}),Object(P.jsx)(C.a,{item:!0,sm:12,md:4,children:Object(P.jsxs)(R.a,{direction:"row",justifyContent:"center",children:[Object(P.jsx)(T.a,Object(b.a)(Object(b.a)({type:"number",variant:"standard",size:"small"},r("".concat(a,".tickets"))),{},{error:Boolean(Object(h.d)(n,"".concat(a,".tickets"))&&Object(h.d)(c,"".concat(a,".tickets"))),helperText:Object(h.d)(n,"".concat(a,".tickets"))&&Object(h.d)(c,"".concat(a,".tickets"))})),Object(P.jsx)(N.a,{children:"tickets"})]})})]},t)}))]})})]})}})},L=u.f().shape({name:u.g().required("Name is required"),type:u.g(),historicalDataRules:u.a(),appLevelRules:u.a(),followerRules:u.a(),socialNetworks:u.a(),socialNetworkRules:u.a()}),D=function(e){var t=e.isEdit,c=e.currentTicketRule,n=Object(a.h)(),i=Object(O.useSnackbar)().enqueueSnackbar,s=Object(h.e)({enableReinitialize:!0,initialValues:{name:(null===c||void 0===c?void 0:c.name)||"",type:(null===c||void 0===c?void 0:c.type)||"Historical Data",historicalDataRules:(null===c||void 0===c?void 0:c.historicalDataRules)||[Object(b.a)({},B)],appLevelRules:(null===c||void 0===c?void 0:c.appLevelRules)||[Object(b.a)({},B)],followerRules:(null===c||void 0===c?void 0:c.followerRules)||[Object(b.a)({},B)],socialNetworks:(null===c||void 0===c?void 0:c.socialNetworks)||[],socialNetworkRules:(null===c||void 0===c?void 0:c.socialNetworkRules)||[Object(b.a)({},H)]},validationSchema:L,onSubmit:function(){var e=Object(d.a)(j.a.mark((function e(c,a){var s,o,l;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:s=a.setSubmitting,o=a.resetForm,l=a.setErrors,alert(JSON.stringify(c));try{o(),s(!1),i(t?"Update success":"Create success",{variant:"success"}),n(r.b.bonus.createTicketRule)}catch(j){console.error(j),s(!1),l(j)}case 3:case"end":return e.stop()}}),e)})));return function(t,c){return e.apply(this,arguments)}}()}),o=s.errors,l=s.values,u=s.touched,m=s.handleSubmit,p=s.isSubmitting,x=s.getFieldProps;return console.log("*** ",l,o),Object(P.jsx)(h.c,{value:s,children:Object(P.jsx)(h.b,{noValidate:!0,autoComplete:"off",onSubmit:m,children:Object(P.jsx)(C.a,{container:!0,spacing:3,children:Object(P.jsx)(C.a,{item:!0,xs:12,children:Object(P.jsx)(k.a,{children:Object(P.jsx)(w.a,{children:Object(P.jsxs)(R.a,{spacing:3,children:[Object(P.jsxs)(R.a,{direction:{xs:"column",sm:"row"},spacing:{xs:3,sm:2},children:[Object(P.jsx)(T.a,Object(b.a)(Object(b.a)({fullWidth:!0,size:"small",label:"Name"},x("name")),{},{error:Boolean(u.name&&o.name),helperText:u.name&&o.name})),Object(P.jsx)(T.a,Object(b.a)(Object(b.a)({select:!0,fullWidth:!0,size:"small",label:"Type"},x("type")),{},{SelectProps:{native:!0},error:Boolean(u.type&&o.type),helperText:u.type&&o.type,children:["Historical Data","App Level","Followers","Social"].map((function(e){return Object(P.jsx)("option",{value:e,children:e},e)}))}))]}),"Historical Data"===l.type&&Object(P.jsx)(M,{formik:s}),"App Level"===l.type&&Object(P.jsx)(W,{formik:s}),"Followers"===l.type&&Object(P.jsx)(A,{formik:s}),"Social"===l.type&&Object(P.jsx)(F,{formik:s}),Object(P.jsx)(S.a,{sx:{mt:3,display:"flex",justifyContent:"flex-end"},children:Object(P.jsx)(v.a,{type:"submit",variant:"contained",loading:p,endIcon:Object(P.jsx)(f.a,{}),children:"Save"})})]})})})})})})})};function I(){var e=Object(i.a)().themeStretch,t=Object(a.g)().pathname,c=Object(a.i)().name,l=t.includes("edit");return Object(P.jsx)(s.a,{title:"TicketRule: Create a new bonus",children:Object(P.jsxs)(n.a,{maxWidth:!e&&"lg",children:[Object(P.jsx)(o.a,{heading:l?"Edit Ticket Rule":"Add Ticket Rule",links:[{name:"TicketRule",href:r.b.root},{name:l?c:"Add Ticket Rule"}]}),Object(P.jsx)(D,{isEdit:l,currentTicketRule:{}})]})})}},691:function(e,t,c){"use strict";c.d(t,"a",(function(){return u}));var a=c(3),n=c(32),r=c(174),i=c(638),s=c(226),o=c(227),l=c(663),j=c(38),d=c(0),b=["links","action","heading","moreLink","sx"];function u(e){var t=e.links,c=e.action,u=e.heading,O=e.moreLink,h=void 0===O?[]:O,m=e.sx,p=Object(n.a)(e,b);return Object(d.jsxs)(i.a,{sx:m,mb:5,spacing:2,children:[Object(d.jsxs)(i.a,{direction:"row",alignItems:"center",children:[Object(d.jsxs)(s.a,{sx:{flexGrow:1},children:[Object(d.jsx)(o.a,{variant:"h4",gutterBottom:!0,children:u}),Object(d.jsx)(j.a,Object(a.a)({links:t},p))]}),c&&Object(d.jsx)(s.a,{sx:{flexShrink:0},children:c})]}),Object(r.isString)(h)?Object(d.jsx)(l.a,{href:h,target:"_blank",variant:"body2",children:h}):h.map((function(e){return Object(d.jsx)(l.a,{noWrap:!0,href:e,variant:"body2",target:"_blank",sx:{display:"flex"},children:e},e)}))]})}},693:function(e,t){t.__esModule=!0,t.default={body:'<path fill="currentColor" d="M19 11h-6V5a1 1 0 0 0-2 0v6H5a1 1 0 0 0 0 2h6v6a1 1 0 0 0 2 0v-6h6a1 1 0 0 0 0-2z"/>',width:24,height:24}},703:function(e,t,c){"use strict";var a=c(5),n=c(4),r=c(2),i=c(1),s=(c(9),c(11)),o=c(150),l=c(227),j=c(12),d=c(7),b=c(102),u=c(126);function O(e){return Object(b.a)("MuiCardHeader",e)}var h=Object(u.a)("MuiCardHeader",["root","avatar","action","content","title","subheader"]),m=c(0),p=["action","avatar","className","component","disableTypography","subheader","subheaderTypographyProps","title","titleTypographyProps"],x=Object(d.a)("div",{name:"MuiCardHeader",slot:"Root",overridesResolver:function(e,t){var c;return Object(r.a)((c={},Object(a.a)(c,"& .".concat(h.title),t.title),Object(a.a)(c,"& .".concat(h.subheader),t.subheader),c),t.root)}})({display:"flex",alignItems:"center",padding:16}),f=Object(d.a)("div",{name:"MuiCardHeader",slot:"Avatar",overridesResolver:function(e,t){return t.avatar}})({display:"flex",flex:"0 0 auto",marginRight:16}),v=Object(d.a)("div",{name:"MuiCardHeader",slot:"Action",overridesResolver:function(e,t){return t.action}})({flex:"0 0 auto",alignSelf:"flex-start",marginTop:-4,marginRight:-8,marginBottom:-4}),k=Object(d.a)("div",{name:"MuiCardHeader",slot:"Content",overridesResolver:function(e,t){return t.content}})({flex:"1 1 auto"}),y=i.forwardRef((function(e,t){var c=Object(j.a)({props:e,name:"MuiCardHeader"}),a=c.action,i=c.avatar,d=c.className,b=c.component,u=void 0===b?"div":b,h=c.disableTypography,y=void 0!==h&&h,g=c.subheader,w=c.subheaderTypographyProps,R=c.title,C=c.titleTypographyProps,N=Object(n.a)(c,p),T=Object(r.a)({},c,{component:u,disableTypography:y}),z=function(e){var t=e.classes;return Object(o.a)({root:["root"],avatar:["avatar"],action:["action"],content:["content"],title:["title"],subheader:["subheader"]},O,t)}(T),S=R;null==S||S.type===l.a||y||(S=Object(m.jsx)(l.a,Object(r.a)({variant:i?"body2":"h5",className:z.title,component:"span",display:"block"},C,{children:S})));var P=g;return null==P||P.type===l.a||y||(P=Object(m.jsx)(l.a,Object(r.a)({variant:i?"body2":"body1",className:z.subheader,color:"text.secondary",component:"span",display:"block"},w,{children:P}))),Object(m.jsxs)(x,Object(r.a)({className:Object(s.default)(z.root,d),as:u,ref:t,styleProps:T},N,{children:[i&&Object(m.jsx)(f,{className:z.avatar,styleProps:T,children:i}),Object(m.jsxs)(k,{className:z.content,styleProps:T,children:[S,P]}),a&&Object(m.jsx)(v,{className:z.action,styleProps:T,children:a})]}))}));t.a=y},706:function(e,t,c){"use strict";var a=c(29),n=c(0);t.a=Object(a.a)(Object(n.jsx)("path",{d:"M17 3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V7l-4-4zm-5 16c-1.66 0-3-1.34-3-3s1.34-3 3-3 3 1.34 3 3-1.34 3-3 3zm3-10H5V5h10v4z"}),"Save")},720:function(e,t,c){"use strict";var a=c(2),n=c(4),r=c(1),i=(c(9),c(11)),s=c(150),o=c(7),l=c(12),j=c(102),d=c(126);function b(e){return Object(j.a)("MuiCardContent",e)}Object(d.a)("MuiCardContent",["root"]);var u=c(0),O=["className","component"],h=Object(o.a)("div",{name:"MuiCardContent",slot:"Root",overridesResolver:function(e,t){return t.root}})((function(){return{padding:16,"&:last-child":{paddingBottom:24}}})),m=r.forwardRef((function(e,t){var c=Object(l.a)({props:e,name:"MuiCardContent"}),r=c.className,o=c.component,j=void 0===o?"div":o,d=Object(n.a)(c,O),m=Object(a.a)({},c,{component:j}),p=function(e){var t=e.classes;return Object(s.a)({root:["root"]},b,t)}(m);return Object(u.jsx)(h,Object(a.a)({as:j,className:Object(i.default)(p.root,r),styleProps:m,ref:t},d))}));t.a=m}}]);
//# sourceMappingURL=18.028dae36.chunk.js.map